var B=(e,r,n)=>new Promise((g,c)=>{var F=l=>{try{u(n.next(l))}catch(m){c(m)}},a=l=>{try{u(n.throw(l))}catch(m){c(m)}},u=l=>l.done?g(l.value):Promise.resolve(l.value).then(F,a);u((n=n.apply(e,r)).next())});import"./vue.bba2ec4d.js";import{_ as C,p as b,e as k,a as E}from"./index.17c23084.js";import{d as w,e as D,m as y,r as A,_ as i,$,a2 as P,a3 as p,c as s,a1 as o,aa as R,ab as U,E as d}from"./@vue.ce69bcce.js";import"./ant-design-vue.4bd4cff1.js";import"./@babel.d77ec770.js";import"./regenerator-runtime.52b57d8c.js";import"./@ant-design.dce0d0de.js";import"./@ctrl.837ec117.js";import"./lodash-es.a7598bc1.js";import"./resize-observer-polyfill.8deb1e21.js";import"./dayjs.3e893def.js";import"./vue-types.6e6d84ba.js";import"./dom-align.243fa364.js";import"./async-validator.ed4c92a2.js";import"./scroll-into-view-if-needed.5191fdbf.js";import"./compute-scroll-into-view.6058b3be.js";import"./lodash.20dab116.js";import"./vuex.6a416a8d.js";import"./axios.e9656f83.js";import"./vue-router.b7fb3786.js";import"./nprogress.bfa0410b.js";import"./js-cookie.31874410.js";import"./clipboard.4ddab532.js";const q=w({name:"Register",setup(){const e=D("context"),r=y(null),n=A({username:"",nickname:"",realname:"",phone:"",email:"",password:"",checkpass:""});return{registerFormEl:r,registerForm:n,submit:()=>B(this,null,function*(){try{const a=yield r.value.validate();delete a.checkpass,e.$http.post("/register",a).then(u=>{if(!u.success){e.$message.error(u.message);return}e.$message.success(u.message),e.$router.push("/login")}).catch(u=>{console.log(u)})}catch(a){console.log("valid error",a)}}),reset:()=>{r.value.resetFields()},phoneRegexp:b,emailRegexp:k,pwdRegexp:E,validCheckpass:(a,u)=>B(this,null,function*(){return u===""?Promise.reject("Please input the password again"):u!==n.password?Promise.reject("Two inputs don't match!"):Promise.resolve()})}}}),_=e=>(R("data-v-111609f8"),e=e(),U(),e),I={class:"register-wrap"},j={class:"register-wrap-inner"},N=_(()=>p("h2",{style:{"text-align":"center","margin-bottom":"40px"}},[p("b",null,"\u7528\u6237\u6CE8\u518C")],-1)),S=_(()=>p("div",{class:"pwd-rules"},[p("small",null,[d(" \u5BC6\u7801\u957F\u5EA68-20\u4F4D\u5B57\u7B26 "),p("br"),d(" \u7531\u6570\u5B57\u3001\u5927\u5C0F\u5199\u5B57\u6BCD\u3001\u7279\u6B8A\u82F1\u6587\u5B57\u7B26\uFF08!$%^&*()_\uFF09\u7EC4\u6210 ")])],-1)),V=d("\u91CD\u7F6E"),T=d("\u63D0\u4EA4"),x={style:{"text-align":"center","margin-top":"30px"}},z=d(" \u5DF2\u6709\u8D26\u6237\uFF0C"),G=d("\u70B9\u51FB\u767B\u5F55");function H(e,r,n,g,c,F){const a=i("a-input"),u=i("a-form-item"),l=i("a-input-password"),m=i("a-button"),v=i("a-space"),f=i("a-form"),h=i("router-link");return $(),P("div",I,[p("div",j,[N,s(f,{ref:"registerFormEl",model:e.registerForm,name:"basic","label-col":{xs:{span:24},sm:{span:24},md:{span:6}},"wrapper-col":{xs:{span:24},sm:{span:24},md:{span:18}},autocomplete:"off"},{default:o(()=>[s(u,{label:"\u7528\u6237\u540D",name:"username",rules:[{required:!0,message:"Please input your username!"}]},{default:o(()=>[s(a,{value:e.registerForm.username,"onUpdate:value":r[0]||(r[0]=t=>e.registerForm.username=t),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["value"])]),_:1}),s(u,{label:"\u771F\u5B9E\u59D3\u540D",name:"realname"},{default:o(()=>[s(a,{value:e.registerForm.realname,"onUpdate:value":r[1]||(r[1]=t=>e.registerForm.realname=t),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u540D\u5B57"},null,8,["value"])]),_:1}),s(u,{label:"\u6635\u79F0",name:"nickname"},{default:o(()=>[s(a,{value:e.registerForm.nickname,"onUpdate:value":r[2]||(r[2]=t=>e.registerForm.nickname=t),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u6635\u79F0"},null,8,["value"])]),_:1}),s(u,{label:"\u624B\u673A\u53F7",name:"phone",rules:[{required:!0,message:"Please input your phone!"},{pattern:e.phoneRegexp,message:"\u624B\u673A\u53F7\u7801\u4E0D\u5408\u6CD5~",trigger:"blur"}]},{default:o(()=>[s(a,{value:e.registerForm.phone,"onUpdate:value":r[3]||(r[3]=t=>e.registerForm.phone=t),placeholder:"\u8BF7\u8F93\u5165\u5E38\u7528\u624B\u673A\u53F7"},null,8,["value"])]),_:1},8,["rules"]),s(u,{label:"\u90AE\u7BB1",name:"email",rules:[{pattern:e.emailRegexp,message:"\u90AE\u7BB1\u53F7\u4E0D\u5408\u6CD5~",trigger:"blur"}]},{default:o(()=>[s(a,{value:e.registerForm.email,"onUpdate:value":r[4]||(r[4]=t=>e.registerForm.email=t),placeholder:"\u8BF7\u8F93\u5165\u5E38\u7528\u90AE\u7BB1"},null,8,["value"])]),_:1},8,["rules"]),s(u,{label:"\u767B\u5F55\u5BC6\u7801",name:"password",rules:[{required:!0,message:"Please input your password!"},{pattern:e.pwdRegexp,message:"\u5BC6\u7801\u683C\u5F0F\u4E0D\u6B63\u786E~",trigger:"blur"}]},{default:o(()=>[s(l,{value:e.registerForm.password,"onUpdate:value":r[5]||(r[5]=t=>e.registerForm.password=t),placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["value"]),S]),_:1},8,["rules"]),s(u,{label:"\u786E\u8BA4\u5BC6\u7801",name:"checkpass",rules:[{validator:e.validCheckpass,trigger:"blur"}],required:""},{default:o(()=>[s(l,{value:e.registerForm.checkpass,"onUpdate:value":r[6]||(r[6]=t=>e.registerForm.checkpass=t),placeholder:"\u8BF7\u518D\u6B21\u8F93\u5165\u767B\u5F55\u5BC6\u7801"},null,8,["value"])]),_:1},8,["rules"]),s(u,{style:{"text-align":"center"}},{default:o(()=>[s(v,null,{default:o(()=>[s(m,{onClick:e.reset},{default:o(()=>[V]),_:1},8,["onClick"]),s(m,{type:"primary",onClick:e.submit},{default:o(()=>[T]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model"]),p("div",x,[z,s(h,{to:"/login"},{default:o(()=>[G]),_:1})])])])}var ge=C(q,[["render",H],["__scopeId","data-v-111609f8"]]);export{ge as default};
