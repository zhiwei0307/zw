import"./vue.3c1b29c4.js";import{_ as e}from"./index.b0c776a2.js";import{d as t,k as a,v as s,_ as i,$ as l,a0 as d,a1 as o,m as r,a3 as n,J as p,a9 as c,aa as m}from"./@vue.61fb48b5.js";import"./ant-design-vue.2d339fb3.js";import"./@babel.eda524f0.js";import"./regenerator-runtime.7769f52d.js";import"./@ant-design.2f8223f0.js";import"./@ctrl.fa7cbd46.js";import"./lodash-es.a53432ff.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.5d25c98b.js";import"./scroll-into-view-if-needed.5191fdbf.js";import"./compute-scroll-into-view.6058b3be.js";import"./dayjs.39b8ebe2.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./lodash.5f175b98.js";import"./vuex.fb8d35f6.js";import"./axios.82d3905a.js";import"./vue-router.9a97da5e.js";import"./nprogress.6eaf9b6f.js";import"./js-cookie.31874410.js";import"./clipboard.5999f2a2.js";const u=e=>(c("data-v-d94b707e"),e=e(),m(),e),b=p(" 清理 "),v={class:"modal-content"},f=u((()=>n("b",null,"IP ：",-1))),j=u((()=>n("div",{style:{"text-align":"right"}},[n("small",null,"多个 IP 请用 ' , ' 号隔开")],-1)));var g=e(t({setup(e){const t=a("context"),p=[{title:"序号",dataIndex:"index",width:48,align:"center",customRender:({index:e})=>e+1},{title:"用户名",dataIndex:["user","username"],width:156,align:"center"},{title:"方法",dataIndex:"actions",width:156},{title:"请求参数",dataIndex:"params",width:226,ellipsis:!0},{title:"IP",dataIndex:"ip",width:136,align:"center"},{title:"IP地址",dataIndex:"ipAddr",width:136,align:"center"},{title:"访问设备",dataIndex:"device",width:226,ellipsis:!0},{title:"访问时间",dataIndex:"create_at",width:150,align:"center"}],c=s(!1),m=s(""),u=()=>new Promise(((e,a)=>{t.$http.post("logs/dels",{ips:m.value}).then((a=>{t.$message[a.success?"success":"error"](a.message),c.value=!1,e(a)})).catch((e=>{a(e)})).finally((()=>{}))}));return(e,t)=>{const a=i("ClearOutlined"),s=i("a-button"),g=i("ListData"),x=i("a-textarea"),h=i("ZwModal"),w=i("ZwScrollbar");return l(),d(w,{"wrap-class":"pd-17"},{default:o((()=>[r(g,{class:"","row-key":"id",columns:p,apis:"logs","page-size":10,"top-tools":{hiddenAdd:!0}},{"append-tools-btn":o((()=>[r(s,{class:"clear-btn",onClick:t[0]||(t[0]=e=>c.value=!0)},{icon:o((()=>[r(a)])),default:o((()=>[b])),_:1})])),_:1}),r(h,{title:"日志清理",visible:c.value,"onUpdate:visible":t[2]||(t[2]=e=>c.value=e),onSubmit:u},{default:o((()=>[n("div",v,[f,r(x,{value:m.value,"onUpdate:value":t[1]||(t[1]=e=>m.value=e),valueModifiers:{trim:!0},placeholder:"请输入ip,多个ip用`,`号隔开"},null,8,["value"])]),j])),_:1},8,["visible"])])),_:1})}}}),[["__scopeId","data-v-d94b707e"]]);export{g as default};
