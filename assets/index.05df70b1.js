var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=Math.pow,r=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,i=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&r(e,a,t[a]);if(l)for(var a of l(t))n.call(t,a)&&r(e,a,t[a]);return e},d=(e,t,a)=>(r(e,"symbol"!=typeof t?t+"":t,a),a),c=(e,t,a)=>new Promise(((l,o)=>{var n=e=>{try{r(a.next(e))}catch(t){o(t)}},s=e=>{try{r(a.throw(e))}catch(t){o(t)}},r=e=>e.done?l(e.value):Promise.resolve(e.value).then(n,s);r((a=a.apply(e,t)).next())}));import"./vue.df901c44.js";import{z as u,C as m,m as p,n as f,M as _,B as v,a as h,b,c as g,d as y,F as w,I as k,e as S,f as x,R as C,A as O,g as I,D as T,h as L,i as A,j as E,L as M,k as z,P as j,l as P,o as $,S as U,p as F,q as D,r as R,s as V,T as N,t as B,u as H,v as q,w as K,x as W,U as Z}from"./ant-design-vue.a6735399.js";import{d as Y}from"./dayjs.39b8ebe2.js";import{Z as J,_ as G,d as X,p as Q,$ as ee,o as te,j as ae,a0 as le,a1 as oe,a2 as ne,a3 as se,m as re,l as ie,a4 as de,a5 as ce,Y as ue,a6 as me,a7 as pe,k as fe,v as _e,a8 as ve,a9 as he,F as be,J as ge,f as ye,aa as we,ab as ke,ac as Se,I as xe,A as Ce,z as Oe,w as Ie,K as Te,B as Le,W as Ae,ad as Ee,H as Me,ae as ze,e as je,i as Pe,q as $e,G as Ue,af as Fe,n as De,V as Re,ag as Ve,M as Ne,ah as Be,y as He,h as qe,ai as Ke,aj as We,ak as Ze}from"./@vue.889a75b5.js";import{O as Ye,f as Je,Q as Ge,b as Xe,g as Qe,T as et}from"./@ant-design.2d3b2fbb.js";import{l as tt,_ as at}from"./lodash.3cabe671.js";import{c as lt}from"./vuex.7d8a0789.js";import{a as ot}from"./axios.82d3905a.js";import{c as nt,a as st}from"./vue-router.8ca1e268.js";import{N as rt}from"./nprogress.6eaf9b6f.js";import{a as it}from"./js-cookie.31874410.js";import{i as dt}from"./resize-observer-polyfill.8deb1e21.js";import{C as ct}from"./clipboard.16092f5a.js";import"./@babel.29daae83.js";import"./regenerator-runtime.6bfb484e.js";import"./lodash-es.a53432ff.js";import"./async-validator.5d25c98b.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@ctrl.fa7cbd46.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const ut=e=>!!(!e&&0!==e||J(e)&&!e.length||G(e)&&!Object.keys(e).length);function mt(e,t="id",a="pid"){const l=[];if(!Array.isArray(e))return l;const o={};return e.forEach((e=>o[e[t]]=e)),e.forEach((e=>{const t=o[e[a]];t?(t.children&&Array.isArray(t.children)||(t.children=[]),t.children.push(e)):l.push(e)})),l}function pt(e,t){if(!ut(t))for(let a=0;a<t.length;a++){let l=t[a].path===e;if(l||(l=pt(e,t[a].children)),l)return!0}return!1}function ft(e){return!e||e.length<=0?[]:e.reduce(((e,t)=>{if(t.is_show){const a={path:t.path,meta:{icon:{type:t.icon_type,name:t.icon_name,path:t.icon_svg_path},title:t.name}};t.frame_src&&(a.meta.frame_src=t.frame_src),t.outer_link&&(a.meta.outer_link=t.outer_link),t.children&&t.children.length>0&&(a.children=ft(t.children)),e.push(a)}else t.children&&t.children.length>0&&e.push(...ft(t.children));return e}),[])}function _t(e){return"ant-calendar-picker"===e.parentNode.className?document.getElementsByClassName("ant-modal-wrap")[0]:e.parentNode}const vt=/^1(?:3\d|4[4-9]|5[0-35-9]|6[67]|7[013-8]|8\d|9\d)\d{8}$/,ht=/^([a-zA-Z0-9]+[_|_|\-|.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|_|.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,6}$/,bt=/^[a-zA-Z0-9_][a-zA-Z0-9!$%^&*()_]{7,19}$/,gt="USER_LOGINED_MSG";function yt(e){const t=window.localStorage.getItem(e);let a;try{a=JSON.parse(t||"")}catch(l){a=t}return a}function wt(e,t){const a=yt(gt)||{};if(G(e))for(const l in e)a[l]=e[l];else a[e]=t;window.localStorage.setItem(gt,JSON.stringify(a))}function kt(e){return(yt(gt)||{})[e]}var St=(e,t)=>{const a=e.__vccOpts||e;for(const[l,o]of t)a[l]=o;return a};Y.locale(u.locale);var xt=St(X({name:"App",components:{ConfigProvider:m},setup(){const e=ae(),t=e.appContext.config.globalProperties;Q("instance",ee(e)),Q("context",ee(t)),(()=>{const e=kt("USERINFO");e&&t.$store.commit("set_userinfo",e)})();const a=document.getElementById("sla");return document.body.style.overflow="hidden",te((()=>{a&&(a.parentNode.removeChild(a),document.body.style.overflow="")})),{zhCN:u}}}),[["render",function(e,t,a,l,o,n){const s=le("router-view"),r=le("ConfigProvider");return oe(),ne(r,{locale:e.zhCN},{default:se((()=>[re(s)])),_:1},8,["locale"])}]]);const Ct=[v,h,b,g,y,w,k,S,x,C,O,I,T,L,A,E,M,z,_,j,P,$,U,F,D,R,V,N,B,H,q,K,W,Z],Ot=[],It=[],Tt=[];var Lt={install:e=>{e.config.globalProperties.$message=p,e.config.globalProperties.$notification=f,e.config.globalProperties.$modal=_,Ct.forEach((t=>{e.use(t)})),Object.values(Ye).forEach((t=>{const a=t.displayName;a&&(e._context.components.hasOwnProperty(a)||e.component(a,t),a.endsWith("Outlined")&&Ot.push(a),a.endsWith("Filled")&&It.push(a),a.endsWith("TwoTone")&&Tt.push(a))})),sessionStorage.setItem("AntDesignIcons",JSON.stringify({outlined:Ot,filled:It,twoTone:Tt}))}},At=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Lt});const Et=X({name:"HelloWorld",props:["name","path"],setup:e=>({symbolId:ie((()=>`#svg-${e.name}`))})}),Mt={key:0,class:"anticon"},zt={"aria-hidden":"true",width:"1em",height:"1em",fill:"currentColor"},jt=["xlink:href"],Pt=["innerHTML"];var $t=St(Et,[["render",function(e,t,a,l,o,n){const s=le("Icon");return e.name?(oe(),de("span",Mt,[(oe(),de("svg",zt,[ce("use",{"xlink:href":e.symbolId},null,8,jt)]))])):(oe(),ne(s,{key:1},{component:se((()=>[ce("i",{innerHTML:e.path},null,8,Pt)])),_:1}))}],["__scopeId","data-v-0df066e9"]]);var Ut=St(X({name:"ZwIcons",components:{SvgIcon:$t},props:{type:{type:String,default:"svg"},name:String,path:String}}),[["render",function(e,t,a,l,o,n){const s=le("SvgIcon");return"svg"===e.type?(oe(),ne(s,ue({key:0,name:e.name,path:e.path},e.$attrs),null,16,["name","path"])):(oe(),ne(pe(e.name),me(ue({key:1},e.$attrs)),null,16))}]]),Ft=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ut});const Dt=X({name:"InnerPage",props:{},setup(){const e=fe("context"),t=_e(!0);_e(50);const a=_e(null);return{frameSrc:ie((()=>decodeURIComponent(e.$route.query.frameSrc))),loading:t,frameRef:a,hideLoading:function(){t.value=!1}}}}),Rt={class:"iframe-wrap"},Vt=["src"];var Nt=St(Dt,[["render",function(e,t,a,l,o,n){return oe(),de("div",Rt,[ce("iframe",{src:e.frameSrc,ref:"frameRef",onLoad:t[0]||(t[0]=(...t)=>e.hideLoading&&e.hideLoading(...t))},null,40,Vt)])}],["__scopeId","data-v-9fd59c9c"]]),Bt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Nt});const Ht=X({name:"",props:["visible"],setup(e,{emit:t}){const a=ie({get:()=>e.visible,set(e){t("update:visible",e)}}),l=fe("searchFormOptions",{}),o=_e({}),n=_e({});(()=>{const e=l;e&&"Array"===ve(e)&&e.length>0&&e.forEach((e=>{n.value[e.name]=e.rule,o.value[e.name]=e.default||""}))})();const s=_e(null);return{modelVisible:a,ruleForm:s,formOptions:l,fd:o,rules:n,isClearable:e=>e.props&&e.props.clearable,reset:()=>{s.value.resetFields()},handleDatePickerChange:()=>{},handleFormSearch:()=>{s.value.validate().then((()=>{t("search",o.value)})).catch((e=>{console.log("error",e)}))}}}}),qt=ce("h3",{class:"form-title"},null,-1),Kt=ge(" 重 置 "),Wt=ge(" 执 行 ");var Zt=St(Ht,[["render",function(e,t,a,l,o,n){const s=le("a-select-option"),r=le("a-select"),i=le("a-date-picker"),d=le("a-month-picker"),c=le("a-input"),u=le("a-form-item"),m=le("a-form"),p=le("a-button"),f=le("ZwModal");return oe(),ne(f,{ref:"searchModal",visible:e.modelVisible,"onUpdate:visible":t[0]||(t[0]=t=>e.modelVisible=t),title:"高级搜索",width:"620px",onSubmit:e.handleFormSearch},{default:se((()=>[re(m,{ref:"ruleForm",model:e.fd,rules:e.rules,"label-col":{span:5},"wrapper-col":{span:15}},{default:se((()=>[qt,(oe(!0),de(be,null,he(e.formOptions,((t,a)=>(oe(),ne(u,{key:t.name+a,label:t.comment,name:t.name,ref_for:!0,ref:t.name},{default:se((()=>["select"===t.formType?(oe(),ne(r,{value:e.fd[t.name],"onUpdate:value":a=>e.fd[t.name]=a,clearable:e.isClearable(t),key:t.name,placeholder:"请选择"},{default:se((()=>[(oe(!0),de(be,null,he(t.options,((e,t)=>(oe(),ne(s,{key:t,label:e,value:t},null,8,["label","value"])))),128))])),_:2},1032,["value","onUpdate:value","clearable"])):"date"===t.formType?(oe(),ne(i,{value:e.fd[t.name],"onUpdate:value":a=>e.fd[t.name]=a,placeholder:"选择日期时间",key:t.name},null,8,["value","onUpdate:value"])):"month"===t.formType||"range"===t.formType?(oe(),ne(d,{value:e.fd[t.name],"onUpdate:value":a=>e.fd[t.name]=a,placeholder:"选择月份",key:t.name},null,8,["value","onUpdate:value"])):(oe(),ne(c,{type:"text",value:e.fd[t.name],"onUpdate:value":a=>e.fd[t.name]=a,placeholder:"请输入"+t.comment,key:t.name,clearable:e.isClearable(t)},null,8,["value","onUpdate:value","placeholder","clearable"]))])),_:2},1032,["label","name"])))),128))])),_:1},8,["model","rules"])])),footer:se((()=>[re(p,{onClick:e.reset},{default:se((()=>[Kt])),_:1},8,["onClick"]),re(p,{type:"primary",onClick:e.handleFormSearch},{default:se((()=>[Wt])),_:1},8,["onClick"])])),_:1},8,["visible","onSubmit"])}]]);function Yt(){const e="0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f".split(",");let t="#";for(let a=0;a<6;a++)t+=e[Math.floor(16*Math.random())];return t}const Jt=X({name:"IconsSample",components:{SvgIcon:$t},setup(){const e=sessionStorage.getItem("AntDesignIcons"),{outlined:t,filled:a,twoTone:l}=JSON.parse(e),o=_e(1),n=_e(""),s=ye({type:"ant",name:"",path:""});return{outlined:t,filled:a,twoTone:l,activeKey:o,getColor:Yt,activedIcon:s,path:n,handleSelect:(e,t,a)=>{s.type=e,s.name=t,s.path=a}}}}),Gt=e=>(ke("data-v-5f2eee62"),e=e(),Se(),e),Xt=ge(" 线框风格 "),Qt={class:"icon-list"},ea=["onClick"],ta=ge(" 实底风格 "),aa={class:"icon-list"},la=["onClick"],oa=ge(" 双色风格 "),na={class:"icon-list"},sa=["onClick"],ra=ge(" 自定义SVG "),ia={class:"svg-content"},da={class:"svg-preview"},ca={key:0},ua=[ge("svg"),Gt((()=>ce("br",null,null,-1))),ge("预览")],ma={class:"svg-ipt"},pa=Gt((()=>ce("br",null,null,-1))),fa=Gt((()=>ce("p",{class:"example"},[ce("b",null,[ce("i",null,"TIPS : "),ge(" 示例")]),ce("br"),ce("code",null,' <svg fill="currentColor" viewBox="0 0 1024 1024" width="1em" height="1em" > '),ce("br"),ce("code",null,' <path d="M944.849006 900.489657 782.453882 734.922354c22.61457-27.526332 41.033676-58.020186 54.950335-91.072249 19.340062-45.84311 28.24263-94.653742 28.24263-144.794644 0-50.24323-8.902568-98.951534-28.24263-144.794644-18.726092-44.308184-45.536125-84.216249-79.7138-118.393924-34.177676-34.280004-73.983412-61.090037-118.393924-79.918457-45.945438-19.44239-94.858399-28.344959-145.203957-28.344959s-99.156191 8.902568-145.203957 28.344959c-44.410513 18.82842-84.216249 45.638453-118.393924 79.918457-34.177676 34.177676-60.987709 73.983412-79.7138 118.393924-19.340062 45.84311-28.140302 94.653742-28.140302 144.794644 0 50.24323 8.80024 98.951534 28.140302 144.794644 18.726092 44.308184 45.536125 84.216249 79.7138 118.393924 34.177676 34.280004 73.983412 61.090037 118.393924 79.918457 45.945438 19.44239 94.858399 28.754272 145.203957 28.754272s99.156191-9.311882 145.203957-28.754272c38.680124-16.372539 73.983412-38.987109 105.091236-67.229739L905.452583 939.169781c5.423404 5.525732 12.58639 8.288598 19.749375 8.288598 6.958329 0 13.916658-2.660538 19.340062-7.879285C955.388828 928.834616 955.593485 911.336464 944.849006 900.489657zM494.194864 816.478065c-84.625562 0-164.134706-32.438093-223.996802-92.402518-59.964425-60.066753-91.993205-139.98521-91.993205-225.122414 0-85.034876 32.02878-164.953333 91.993205-225.122414 59.862097-59.964425 139.473569-91.993205 223.996802-91.993205s164.134706 32.02878 223.996802 91.993205c59.964425 60.066753 92.095533 139.98521 92.095533 225.122414 0 85.034876-32.131108 164.953333-92.095533 225.122414C658.329569 784.039972 578.718097 816.478065 494.194864 816.478065z" p-id="1958" ></path> '),ce("br"),ce("code",null," </svg> ")],-1)));const _a=[{label:"应用",value:"A"},{label:"模块",value:"M"},{label:"页面",value:"P"},{label:"功能",value:"F"}],va=X({name:"MenuForm",components:{IconSelector:St(Jt,[["render",function(e,t,a,l,o,n){const s=le("BorderOutlined"),r=le("ZwIcons"),i=le("a-tab-pane"),d=le("AppstoreFilled"),c=le("TagsTwoTone"),u=le("BlockOutlined"),m=le("SvgIcon"),p=le("a-textarea"),f=le("a-tabs"),_=le("ZwScrollbar");return oe(),ne(_,{class:"icon-content"},{default:se((()=>[re(f,{activeKey:e.activeKey,"onUpdate:activeKey":t[1]||(t[1]=t=>e.activeKey=t)},{default:se((()=>[(oe(),ne(i,{key:1},{tab:se((()=>[re(s),Xt])),default:se((()=>[ce("ul",Qt,[(oe(!0),de(be,null,he(e.outlined,(t=>(oe(),de("li",{key:t,onClick:a=>e.handleSelect("ant",t),class:we({actived:t===e.activedIcon.name})},[re(r,{type:"ant",name:t},null,8,["name"])],10,ea)))),128))])])),_:1})),(oe(),ne(i,{key:2},{tab:se((()=>[re(d),ta])),default:se((()=>[ce("ul",aa,[(oe(!0),de(be,null,he(e.filled,(t=>(oe(),de("li",{key:t,onClick:a=>e.handleSelect("ant",t),class:we({actived:t===e.activedIcon.name})},[re(r,{type:"ant",name:t},null,8,["name"])],10,la)))),128))])])),_:1})),(oe(),ne(i,{key:3},{tab:se((()=>[re(c,{twoToneColor:"#553d66"}),oa])),default:se((()=>[ce("ul",na,[(oe(!0),de(be,null,he(e.twoTone,(t=>(oe(),de("li",{key:t,onClick:a=>e.handleSelect("ant",t),class:we({actived:t===e.activedIcon.name})},[re(r,{type:"ant",name:t,twoToneColor:e.getColor()},null,8,["name","twoToneColor"])],10,sa)))),128))])])),_:1})),(oe(),ne(i,{key:4},{tab:se((()=>[re(u),ra])),default:se((()=>[ce("div",ia,[ce("div",da,[ce("div",{class:we(["svg-show",{preview:!e.path}])},[e.path?(oe(),ne(m,{key:1,path:e.path},null,8,["path"])):(oe(),de("i",ca,ua))],2)]),ce("div",ma,[re(p,{id:"cut",value:e.path,"onUpdate:value":t[0]||(t[0]=t=>e.path=t),placeholder:"输入svg图标内容","auto-size":{minRows:5}},null,8,["value"])])]),pa,fa])),_:1}))])),_:1},8,["activeKey"])])),_:1})}],["__scopeId","data-v-5f2eee62"]])},props:{formdata:{type:[Object,String]},mode:{type:String,default:"add"}},setup(e,{emit:t}){const a=fe("context"),l=fe("parentInfo"),o=G(e.formdata)?e.formdata:{name:"",path:"",code:"",sort:0,p_id:l.value.p_id||0,p_code:l.value.p_code,remarks:"",mold:"P",is_show:1,is_cached:0,frame_src:"",outer_link:""},n=_e(JSON.parse(JSON.stringify(o))),s=_e(null),r=_e(null),i=ie((()=>"view"!==e.mode));xe((()=>{"add"!==e.mode&&a.$http.get("/menus/"+e.formdata.id).then((e=>{e.success?n.value=e.data:a.$message.error(e.message)})).catch((e=>{console.log(e)}))}));const d=_e(!1);return{foo:n,editAble:i,radioOptions:_a,menuForm:s,rules:{name:[{required:!0,message:"请输入菜单名称！",tragger:"blur"}],code:[{required:!0,message:"请输入菜单编码！",tragger:"blur"}],mold:[{required:!0,message:"菜单类型不能为空",tragger:"blur"}]},iconSelector:r,resetFields:function(){s.value.resetFields()},modalVisible:d,handleIconSelected:e=>{const t=r.value;if(4===t.activeKey)n.value.icon_type="svg",n.value.icon_svg_path=t.path;else{const e=t.activedIcon;(e.path||e.name)&&(n.value.icon_name=e.name,n.value.icon_type=e.type,n.value.icon_svg_path=e.path)}d.value=!1},handleClearIcon:()=>{n.value.icon_type="",n.value.icon_name="",n.value.icon_svg_path=""}}}}),ha={class:"menu-icon"},ba={class:"icon-preivew"},ga=ge(" 选择 ");var ya=St(va,[["render",function(e,t,a,l,o,n){const s=le("a-input"),r=le("a-form-item"),i=le("a-radio-group"),d=le("a-switch"),c=le("ZwIcons"),u=le("CloseCircleOutlined"),m=le("a-button"),p=le("a-textarea"),f=le("a-form"),_=le("IconSelector"),v=le("ZwModal"),h=Ce("can-edit");return oe(),de(be,null,[(oe(),ne(f,{ref:"menuForm",model:e.foo,layout:"horizontal",rules:e.rules,key:Math.random().toFixed(10),"label-col":{span:4},"wrapper-col":{span:18}},{default:se((()=>[re(r,{label:"菜单名称",name:"name"},{default:se((()=>[Oe(re(s,{value:e.foo.name,"onUpdate:value":t[0]||(t[0]=t=>e.foo.name=t),valueModifiers:{trim:!0},placeholder:"请输入菜单名称",tabindex:"1",type:"text"},null,8,["value"]),[[h,e.editAble]])])),_:1}),re(r,{label:"菜单URL",name:"path"},{default:se((()=>[Oe(re(s,{value:e.foo.path,"onUpdate:value":t[1]||(t[1]=t=>e.foo.path=t),valueModifiers:{trim:!0},placeholder:"请输入菜单地址",tabindex:"1",type:"text",allowClear:""},null,8,["value"]),[[h,e.editAble]])])),_:1}),re(r,{label:"菜单类型",name:"mold"},{default:se((()=>[Oe(re(i,{options:e.radioOptions,value:e.foo.mold,"onUpdate:value":t[2]||(t[2]=t=>e.foo.mold=t)},null,8,["options","value"]),[[h,e.editAble]])])),_:1}),re(r,{label:"资源编码",name:"code"},{default:se((()=>[Oe(re(s,{value:e.foo.code,"onUpdate:value":t[3]||(t[3]=t=>e.foo.code=t),valueModifiers:{trim:!0},placeholder:"请输入"},null,8,["value"]),[[h,e.editAble]])])),_:1}),re(r,{label:"上级菜单CODE",name:"p_code"},{default:se((()=>[Oe(re(s,{value:e.foo.p_code,"onUpdate:value":t[4]||(t[4]=t=>e.foo.p_code=t),valueModifiers:{trim:!0},readonly:""},null,8,["value"]),[[h,e.editAble]])])),_:1}),re(r,{label:"排序",name:"sort"},{default:se((()=>[Oe(re(s,{value:e.foo.sort,"onUpdate:value":t[5]||(t[5]=t=>e.foo.sort=t),valueModifiers:{number:!0},placeholder:"请输入"},null,8,["value"]),[[h,e.editAble]])])),_:1}),re(r,{label:"内嵌地址",name:"frame_src"},{default:se((()=>[Oe(re(s,{value:e.foo.frame_src,"onUpdate:value":t[6]||(t[6]=t=>e.foo.frame_src=t),placeholder:"请输入内嵌地址"},null,8,["value"]),[[h,e.editAble]])])),_:1}),re(r,{label:"外部链接",name:"outer_link"},{default:se((()=>[Oe(re(s,{value:e.foo.outer_link,"onUpdate:value":t[7]||(t[7]=t=>e.foo.outer_link=t),placeholder:"请输入外部链接"},null,8,["value"]),[[h,e.editAble]])])),_:1}),re(r,{label:"是否显示",name:"is_show"},{default:se((()=>[Oe(re(d,{"checked-children":"显示","un-checked-children":"隐藏","checked-value":1,"un-checked-value":0,checked:e.foo.is_show,"onUpdate:checked":t[8]||(t[8]=t=>e.foo.is_show=t)},null,8,["checked"]),[[h,e.editAble]])])),_:1}),re(r,{label:"是否缓存",name:"is_cached"},{default:se((()=>[Oe(re(d,{"checked-children":"缓存","un-checked-children":"不缓存","checked-value":1,"un-checked-value":0,checked:e.foo.is_cached,"onUpdate:checked":t[9]||(t[9]=t=>e.foo.is_cached=t)},null,8,["checked"]),[[h,e.editAble]])])),_:1}),re(r,{label:"菜单图标",name:"icon"},{default:se((()=>[ce("div",ha,[ce("span",ba,[e.foo.icon_name||e.foo.icon_svg_path?(oe(),de(be,{key:0},[re(c,{name:e.foo.icon_name,path:e.foo.icon_svg_path,type:e.foo.icon_type},null,8,["name","path","type"]),Oe((oe(),ne(m,{type:"text",danger:"",class:"clear-icon",onClick:e.handleClearIcon},{icon:se((()=>[re(u)])),_:1},8,["onClick"])),[[h,e.editAble]])],64)):(oe(),ne(c,{key:1,name:"ExclamationCircleOutlined",type:"ant",class:"empty-icon"}))]),Oe((oe(),ne(m,{type:"link",onClick:t[10]||(t[10]=t=>e.modalVisible=!0)},{default:se((()=>[ga])),_:1})),[[h,e.editAble]])])])),_:1}),re(r,{label:"备注",name:"remarks"},{default:se((()=>[Oe(re(p,{value:e.foo.remarks,"onUpdate:value":t[11]||(t[11]=t=>e.foo.remarks=t),valueModifiers:{trim:!0},placeholder:"请输入"},null,8,["value"]),[[h,e.editAble]])])),_:1})])),_:1},8,["model","rules"])),re(v,{ref:"zwModal",visible:e.modalVisible,"onUpdate:visible":t[12]||(t[12]=t=>e.modalVisible=t),title:"菜单图标选择器",width:820,"mask-closable":!0,onSubmit:e.handleIconSelected},{default:se((()=>[re(_,{ref:"iconSelector"},null,512)])),_:1},8,["visible","onSubmit"])],64)}],["__scopeId","data-v-4f52470f"]]),wa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ya});function ka(e,t,a){return e.some(((e,l)=>e.id===t?!(e.children&&e.children.length>0)||e.children.every((e=>!!a.find((t=>t.id===e.id)))):!!(e.children&&e.children.length>0)&&ka(e.children,t,a)))}const Sa=e=>{const t={},a=[];e&&e.forEach((e=>{a.push({id:e.id,name:e.name,level:e.level}),e.menus&&e.menus.length>0&&e.menus.forEach((e=>{t[e.code]||(t[e.code]=e)}))}));return[Object.values(t).sort(((e,t)=>e.sort>t.sort?1:-1)),a]};var xa=St(X({name:"RolesSelector",components:{},props:{menus:{type:Array,default:()=>[]},disabled:{type:Boolean,default:()=>!1},hasMenus:{type:Array,default:()=>[]}},setup(e,{emit:t}){const a=fe("context"),l=ie((()=>[{id:"root",code:"root",name:"菜单根目录",children:a.$store.getters.menusAuthed}])),o=_e([]);Ie((()=>e.hasMenus),(e=>{o.value=ut(e)?[]:e.filter((t=>ka(l.value,t.id,e))).map((e=>Number(e.id)))}));const n=ie((()=>!e.disabled)),s=_e(["root"]);return{menusTree:l,checkedMenus:o,expandedKeys:s,onCheck:(e,a)=>{const l=[...e,...a.halfCheckedKeys];t("update:menus",l.filter((e=>"root"!==e)))},editAble:n}}}),[["render",function(e,t,a,l,o,n){const s=le("a-tree"),r=le("ZwScrollbar");return oe(),ne(r,{class:"selector-inner"},{default:se((()=>[re(s,{checkable:"","tree-data":e.menusTree,"field-names":{title:"name",key:"id"},"expanded-keys":e.expandedKeys,"onUpdate:expanded-keys":t[0]||(t[0]=t=>e.expandedKeys=t),"checked-keys":e.checkedMenus,"onUpdate:checked-keys":t[1]||(t[1]=t=>e.checkedMenus=t),disabled:!e.editAble,onCheck:e.onCheck},null,8,["tree-data","expanded-keys","checked-keys","disabled","onCheck"])])),_:1})}]]);const Ca=X({name:"RoleForm",components:{MenuSelector:xa},props:{formdata:{type:[Object,String]},mode:{type:String,default:"add"}},setup(e,{emit:t}){const a=fe("context"),l=_e(JSON.parse(JSON.stringify({name:"",code:"",sort:null,usable:1,menus:[],remarks:"",level:99}))),o=_e([]);xe((()=>{ie((()=>[{id:"root",code:"root",name:"菜单根目录",children:a.$store.getters.menus}]));const t=e.formdata;G(t)&&t.id&&a.$http.get("role/"+t.id).then((e=>{if(!e.success)return a.$message.error("角色信息获取失败~");o.value=e.data.menus,l.value=e.data,l.value.menus=e.data.menus.map((e=>Number(e.id)))}))}));const n=_e(null),s=ie((()=>!("view"===e.mode)));return{foo:l,editAble:s,roleForm:n,defaultMenus:o}}}),Oa=(e=>(ke("data-v-767ad959"),e=e(),Se(),e))((()=>ce("small",{style:{color:"#909090","padding-left":"20px"}},"tip: 数字越小级别越高",-1))),Ia=ge("可用"),Ta=ge("不可用");var La=St(Ca,[["render",function(e,t,a,l,o,n){const s=le("a-input"),r=le("a-form-item"),i=le("a-input-number"),d=le("a-radio"),c=le("a-radio-group"),u=le("a-textarea"),m=le("MenuSelector"),p=le("ZwScrollbar"),f=le("a-col"),_=le("a-row"),v=le("a-form"),h=Ce("can-edit");return oe(),ne(v,{ref:"roleForm",model:e.foo,layout:"horizontal","label-col":{span:4},"wrapper-col":{span:18}},{default:se((()=>[re(r,{label:"角色名称",name:"name"},{default:se((()=>[Oe(re(s,{value:e.foo.name,"onUpdate:value":t[0]||(t[0]=t=>e.foo.name=t),valueModifiers:{trim:!0},placeholder:"请输入",tabindex:"1",type:"text"},null,8,["value"]),[[h,e.editAble]])])),_:1}),re(r,{label:"角色编码",name:"code"},{default:se((()=>[Oe(re(s,{value:e.foo.code,"onUpdate:value":t[1]||(t[1]=t=>e.foo.code=t),valueModifiers:{trim:!0},placeholder:"请输入菜单地址",tabindex:"1",type:"text"},null,8,["value"]),[[h,e.editAble]])])),_:1}),re(r,{label:"级别",name:"level"},{default:se((()=>[Oe(re(i,{value:e.foo.level,"onUpdate:value":t[2]||(t[2]=t=>e.foo.level=t),placeholder:"请输入",tabindex:"1",type:"text"},null,8,["value"]),[[h,e.editAble]]),Oa])),_:1}),re(r,{label:"是否可用",name:"usable"},{default:se((()=>[re(c,{value:e.foo.usable,"onUpdate:value":t[3]||(t[3]=t=>e.foo.usable=t)},{default:se((()=>[re(d,{value:1},{default:se((()=>[Ia])),_:1}),re(d,{value:0},{default:se((()=>[Ta])),_:1})])),_:1},8,["value"])])),_:1}),re(r,{label:"描述/备注",name:"remarks"},{default:se((()=>[Oe(re(u,{value:e.foo.remarks,"onUpdate:value":t[4]||(t[4]=t=>e.foo.remarks=t),valueModifiers:{trim:!0},placeholder:"请输入"},null,8,["value"]),[[h,e.editAble]])])),_:1}),re(r,{label:"权限菜单",name:"menus"},{default:se((()=>[re(_,null,{default:se((()=>[re(f,{span:24,class:"menu-tree-wrap"},{default:se((()=>[re(p,{class:"menu-tree-inner"},{default:se((()=>[re(m,{menus:e.foo.menus,"onUpdate:menus":t[5]||(t[5]=t=>e.foo.menus=t),"has-menus":e.defaultMenus,disabled:!e.editAble},null,8,["menus","has-menus","disabled"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])}],["__scopeId","data-v-767ad959"]]),Aa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:La});var Ea={state:{collapsed:"true"===localStorage.getItem("collapsed")},mutations:{set_collapsed:(e,t)=>{e.collapsed=t,localStorage.setItem("collapsed",t.toString())}},actions:{}},Ma=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ea});var za={state:{visitedviews:[],cachedviews:[]},mutations:{ADD_VISITED_VIEWS:(e,t)=>{e.visitedviews.push({name:t.name,path:t.fullPath,title:t.meta.title||"no-title"})},ADD_CACHED_VIEWS:(e,t)=>{e.cachedviews.push({name:t.name,path:t.fullPath,title:t.meta.title||"no-title"})},DEL_VISITED_VIEWS:(e,t)=>{e.visitedviews.forEach(((a,l)=>{if(a.path==t.path)return e.visitedviews.splice(l,1)})),e.cachedviews.forEach(((a,l)=>{if(a.path==t.path)return e.cachedviews.splice(l,1)}))},DEL_OTHERS:(e,t)=>{e.visitedviews=[{name:t.name,path:t.path,title:t.title||t.meta.title||"no-title"}],t.meta.noCache||(e.cachedviews=[{name:t.name,path:t.path,title:t.title||t.meta.title||"no-title"}])},DEL_ALL:e=>{e.visitedviews.splice(0,e.visitedviews.length),e.cachedviews.splice(0,e.visitedviews.length)}},actions:{addVisitedViews({commit:e,state:t,rootState:a},l){pt(l.path,a.menus)&&(t.visitedviews.some((e=>e.path===l.fullPath))||(e("ADD_VISITED_VIEWS",l),l.meta.noCache||t.cachedviews.some((e=>e.path===l.fullPath))||e("ADD_CACHED_VIEWS",l)))},delVisitedViews:({commit:e,state:t},a)=>new Promise((l=>{console.log(a),e("DEL_VISITED_VIEWS",a),l([...t.visitedviews])})),delOthers:({commit:e,state:t},a)=>new Promise((l=>{e("DEL_OTHERS",a),l([...t.visitedviews])})),delAll:({commit:e,state:t},a)=>new Promise((t=>{e("DEL_ALL",a),t(a)}))}},ja=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:za});function Pa(e){let t=[];return void 0===e&&(t=e=co.getters.menusList),ut(t)&&(t=kt("MENUS")),ut(e)&&!ut(t)&&co.commit("set_menus",t),t}const $a=["/","/login","/reg","/quote","/401","/404","/icons"];const Ua={},Fa=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in Ua)return;Ua[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const l=document.createElement("link");return l.rel=t?"stylesheet":"modulepreload",t||(l.as="script",l.crossOrigin=""),l.href=e,document.head.appendChild(l),t?new Promise(((e,t)=>{l.addEventListener("load",e),l.addEventListener("error",t)})):void 0}))).then((()=>e())):e()};const Da=X({name:"Login",directives:{focus:{mounted(e){e.focus()}}},setup(){const e=fe("context"),t=_e(null),a=function(){const t=e.$router.currentRoute.query.redirect;return t?decodeURIComponent(t):"/"};let s=a();const r=_e(!1),i=_e(kt("IS_IN_MIND")),d=_e(kt("AUTO_LOGIN")),u=kt("ACCOUNT")||{},m=ye({username:u.username||"",password:u.password||""}),p=()=>new Promise((t=>{e.$modal.confirm({title:" 警告！！！",icon:Ae(Je),centered:!0,content:Ae("div",{style:"color:#f5222d;"}," 为了您的信息安全，请不要在网吧或公用电脑上使用此功能！"),okText:"确定",cancelText:"取消",onCancel:()=>{t(!1)},onOk:()=>{t(!0)}})}));Ie(i,(e=>{e?p().then((e=>{!e&&(d.value=i.value=!1)})):d.value=!1})),Ie(d,(e=>{e&&(i.value?p().then((e=>{!e&&(d.value=!1)})):i.value=!0)}));const f={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{validator:(e,t)=>c(this,null,(function*(){if(!t)return Promise.reject("请输入密码!");const e=t.length;return e<6||e>20?Promise.reject("密码长度 6 - 20 个字符"):Promise.resolve()})),trigger:["change","blur"]}]},_=()=>{t.value.validate().then((()=>{r.value=!0;const t=m;e.$http.post("/login",t).then((a=>c(this,null,(function*(){if(!a.success)return Promise.reject(a);{const r=i.value?t:{username:"",password:""},c=a.data.userinfo,{roles:u}=c,m=((e,t)=>{var a={};for(var s in e)o.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&l)for(var s of l(e))t.indexOf(s)<0&&n.call(e,s)&&(a[s]=e[s]);return a})(c,["roles"]),[p,f]=(e=>{const t={},a=[];return e&&e.forEach((e=>{a.push({id:e.id,name:e.name,level:e.level}),e.menus&&e.menus.length>0&&e.menus.forEach((e=>{t[e.code]||(t[e.code]=e)}))})),[Object.values(t).sort(((e,t)=>e.sort>t.sort?1:-1)),a]})(u);wt({IS_IN_MIND:i.value,AUTO_LOGIN:d.value,USERINFO:m,ACCOUNT:r,ROLE:f,MENUS:p}),e.$cookie.set("Token",a.data.token),e.$store.commit("set_userinfo",m),e.$store.commit("set_menus",p),e.$message.success("登录成功"),e.$router.replace({path:s})}})))).catch((t=>{e.$message.error(t.message),r.value=!1}))}))};return te((()=>{kt("AUTO_LOGIN")&&!ut(u)&&(r.value=!0)&&setTimeout(_,800)})),Te((()=>{s=a()})),Le((()=>{document.body.style.overflow="auto"})),{loginForm:t,formInfo:m,rules:f,submiting:r,isInMind:i,autoLogin:d,doLogin:_}}}),Ra=e=>(ke("data-v-2c00966a"),e=e(),Se(),e),Va={class:"login-container"},Na=Ra((()=>ce("div",{style:{color:"transparent"}},"占位符",-1))),Ba={class:"login-form"},Ha=Ra((()=>ce("div",{class:"title"},"用户登录",-1))),qa=ge("记住密码"),Ka=ge("自动登录"),Wa=ge("登 录"),Za=ge(" 还没有账号？ 点击 "),Ya=ge(" 注册 "),Ja=ge("忘记密码？");var Ga=St(Da,[["render",function(e,t,a,l,o,n){const s=le("a-col"),r=le("user-outlined"),i=le("a-input"),d=le("a-form-item"),c=le("SecurityScanOutlined"),u=le("a-input-password"),m=le("a-checkbox"),p=le("a-row"),f=le("a-button"),_=le("router-link"),v=le("a-form"),h=Ce("focus");return oe(),de("div",Va,[re(p,null,{default:se((()=>[re(s,{xs:24,sm:24,md:12,lg:14,xl:14,xxl:16},{default:se((()=>[Na])),_:1}),re(s,{xs:24,sm:24,md:12,lg:10,xl:10,xxl:8},{default:se((()=>[ce("div",Ba,[re(v,{ref:"loginForm",key:"loginForm",model:e.formInfo,rules:e.rules,class:"login-form__inner","wrapper-col":{span:24}},{default:se((()=>[Ha,re(d,{"has-feedback":"",name:"username"},{default:se((()=>[Oe((oe(),ne(i,{value:e.formInfo.username,"onUpdate:value":t[0]||(t[0]=t=>e.formInfo.username=t),valueModifiers:{trim:!0},placeholder:"请输入用户名",tabindex:"1",type:"text",size:"large"},{prefix:se((()=>[re(r,{type:"user"})])),_:1},8,["value"])),[[h]])])),_:1}),re(d,{"has-feedback":"",name:"password"},{default:se((()=>[re(u,{value:e.formInfo.password,"onUpdate:value":t[1]||(t[1]=t=>e.formInfo.password=t),valueModifiers:{trim:!0},tabindex:"2",placeholder:"请输入密码",size:"large"},{prefix:se((()=>[re(c)])),_:1},8,["value"])])),_:1}),re(d,{class:"in-mind"},{default:se((()=>[re(p,null,{default:se((()=>[re(s,{span:12},{default:se((()=>[re(m,{checked:e.isInMind,"onUpdate:checked":t[2]||(t[2]=t=>e.isInMind=t),checkedModifiers:{lazy:!0}},{default:se((()=>[qa])),_:1},8,["checked"])])),_:1}),re(s,{span:12,style:{"text-align":"right"}},{default:se((()=>[re(m,{checked:e.autoLogin,"onUpdate:checked":t[3]||(t[3]=t=>e.autoLogin=t),checkedModifiers:{lazy:!0}},{default:se((()=>[Ka])),_:1},8,["checked"])])),_:1})])),_:1})])),_:1}),re(f,{loading:e.submiting,class:"login-btn",type:"primary",onClick:e.doLogin,block:""},{default:se((()=>[Wa])),_:1},8,["loading","onClick"]),re(p,{class:"form-bottom"},{default:se((()=>[re(s,{span:17},{default:se((()=>[Za,re(_,{to:"/reg"},{default:se((()=>[Ya])),_:1})])),_:1}),re(s,{span:7,class:"forget-pwd"},{default:se((()=>[re(_,{to:"/reset-password"},{default:se((()=>[Ja])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])])])),_:1})])),_:1})])}],["__scopeId","data-v-2c00966a"]]);const Xa=X({name:"Page404",setup(){const e=_e(5),t=setInterval((()=>{e.value?e.value--:clearInterval(t)}),1e3);return Le((()=>{clearInterval(t)})),{jumpTime:e,oops:"抱歉!",headline:"当前页面不存在...",info:"请检查您输入的网址是否正确，或点击下面的按钮返回首页。"}}}),Qa={class:"unfound-countent"},el={class:"pic-unfound"},tl=(e=>(ke("data-v-3ccab95c"),e=e(),Se(),e))((()=>ce("img",{alt:"401",class:"pic-unfound-parent",src:"/assets/404.0ad4ac53.png"},null,-1))),al={class:"unfound"},ll={class:"unfound-oops"},ol={class:"unfound-headline"},nl={class:"unfound-info"},sl={class:"unfound-btns"},rl=ge(" 返回首页");var il=St(Xa,[["render",function(e,t,a,l,o,n){const s=le("ZwIcons"),r=le("a-col"),i=le("router-link"),d=le("a-row");return oe(),de("div",Qa,[re(d,{gutter:20},{default:se((()=>[re(r,{xs:24,sm:24,md:12,lg:12,xl:12},{default:se((()=>[ce("div",el,[tl,re(s,{name:"404"})])])),_:1}),re(r,{xs:24,sm:24,md:12,lg:12,xl:12},{default:se((()=>[ce("div",al,[ce("div",ll,Ee(e.oops),1),ce("div",ol,Ee(e.headline),1),ce("div",nl,Ee(e.info),1),ce("div",sl,[re(i,{to:"/",class:"gohome"},{default:se((()=>[rl])),_:1}),ce("a",{class:"goback",href:"#",onClick:t[0]||(t[0]=(...t)=>e.$router.back&&e.$router.back(...t))}," 返回上一级 ")])])])),_:1})])),_:1})])}],["__scopeId","data-v-3ccab95c"]]);const dl=[{path:"/:pathMatch(.*)*",name:"NotFound",component:il,meta:{visible:!1}},{path:"/login",name:"login",component:Ga,meta:{title:"登录",visible:!1}},{path:"/reg",name:"register",component:()=>Fa((()=>import("./register.e6e8ebdf.js")),["assets/register.e6e8ebdf.js","assets/register.7bbcdee2.css","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"注册",visible:!1}},{path:"/quote",name:"quote",component:()=>Fa((()=>import("./quote-price.d8e95176.js")),["assets/quote-price.d8e95176.js","assets/quote-price.35ca5ca5.css","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"报价表",visible:!1}},{path:"/404",name:"Page404",component:il,meta:{title:"404",visible:!1}},{path:"/401",name:"Page401",component:()=>Fa((()=>import("./401.5031b316.js")),["assets/401.5031b316.js","assets/401.11978a4b.css","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"401",visible:!1}}];const cl=X({name:"Avatar",components:{},setup(){const e=fe("context"),t=_e(!1),a=_e(!1),l=e.$store.state.username,o=e.$store.state.headimg;return{visible:t,logoutLoading:a,handleMenuClick:function(l){if("logout"===l.key)return function(){return c(this,null,(function*(){a.value=!0,yield e.$http.post("/logout"),e.$cookie.remove("Token"),e.$store.dispatch("delAll").then((()=>{a.value=!1,kt("AUTO_LOGIN")&&wt("AUTO_LOGIN",!1),window.sessionStorage.removeItem(gt),e.$router.replace({path:"/login"}),t.value=!1}))}))}();t.value=!1},headimg:o,username:l}}}),ul=e=>(ke("data-v-b25ca526"),e=e(),Se(),e),ml={class:"username"},pl=ge("个人中心"),fl=ul((()=>ce("span",null," Log Out ",-1)));var _l=St(cl,[["render",function(e,t,a,l,o,n){const s=le("UserOutlined"),r=le("a-avatar"),i=le("router-link"),d=le("a-menu-item"),c=le("a-menu-divider"),u=le("a-menu"),m=le("a-dropdown");return oe(),ne(m,{placement:"bottomRight",trigger:["click"],visible:e.visible,"onUpdate:visible":t[1]||(t[1]=t=>e.visible=t)},{overlay:se((()=>[re(u,{onClick:e.handleMenuClick},{default:se((()=>[re(d,null,{default:se((()=>[re(i,{to:{path:"/psn/base"}},{default:se((()=>[pl])),_:1})])),_:1}),re(c),re(d,{key:"logout"},{default:se((()=>[(oe(),ne(pe(e.logoutLoading?"LoadingOutlined":"PoweroffOutlined"))),fl])),_:1})])),_:1},8,["onClick"])])),default:se((()=>[ce("div",{class:"avatar",onClick:t[0]||(t[0]=Me((()=>{}),["stop"]))},[ce("div",ml,Ee(e.username),1),re(r,{size:32,src:e.headimg},{icon:se((()=>[re(s)])),_:1},8,["src"])])])),_:1},8,["visible"])}],["__scopeId","data-v-b25ca526"]]);const vl=X({name:"BreadCrumb",setup(){const e=fe("context");return{routesRef:ie((()=>{const{currentRoute:t}=e.$router,a=((e,t)=>{const a=[];return function l(o,n){o.map((o=>{void 0===n?t.path===o.path?(a.unshift(o),l(e,o.p_id)):o.children&&l(o.children):n===o.id?(a.unshift(o),l(e,o.p_id)):o.children&&l(o.children,n)}))}(e),a})(e.$store.state.menus,t).map((e=>({path:ze(e,"children")&&!ut(e.children)?e.children[0].path:e.path,meta:{title:e.name}})));return a}))}}}),hl={key:0};var bl=St(X({name:"Header",props:{isLayoutSide:{type:Boolean,default:!0},drawer:Boolean},components:{HeadImg:_l,Breadcrumb:St(vl,[["render",function(e,t,a,l,o,n){const s=le("router-link"),r=le("a-breadcrumb");return oe(),ne(r,{routes:e.routesRef,class:"header-breadcrumb"},{itemRender:se((({route:e,routes:t,paths:a})=>[t.indexOf(e)===t.length-1?(oe(),de("span",hl,Ee(e.meta.title),1)):(oe(),ne(s,{key:1,to:`/${a.join("/")}`},{default:se((()=>[ge(Ee(e.meta.title),1)])),_:2},1032,["to"]))])),_:1},8,["routes"])}],["__scopeId","data-v-861c2278"]])},setup(e){const t=fe("context"),a=ie((()=>t.$store.getters.collapsed));return{isCollapsed:ie((()=>a.value?"MenuUnfoldOutlined":"MenuFoldOutlined")),handleCollapsed:function(){t.$store.commit("set_collapsed",!a.value)}}}}),[["render",function(e,t,a,l,o,n){const s=le("Breadcrumb"),r=le("a-col"),i=le("HeadImg"),d=le("a-row"),c=le("a-layout-header");return oe(),ne(c,null,{default:se((()=>[e.isLayoutSide?(oe(),ne(pe(e.isCollapsed),{key:0,class:"trigger",onClick:e.handleCollapsed},null,8,["onClick"])):(oe(),ne(pe("MenuOutlined"),{key:1,class:"trigger",onClick:t[0]||(t[0]=t=>e.$emit("update:drawer",!0))})),re(d,{class:"header"},{default:se((()=>[re(r,{span:12},{default:se((()=>[re(s)])),_:1}),re(r,{span:12},{default:se((()=>[re(i)])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-185d4cbd"]]),gl="undefined"==typeof window;const yl=function(e){for(const t of e){const e=t.target.__resizeListeners__||[];e.length&&e.forEach((e=>{e()}))}};const wl=e=>"number"==typeof e;function kl(e){return Pe(e)?e:wl(e)?e+"px":""}const Sl=function(e,t,a,l=!1){e&&t&&a&&e.addEventListener(t,a,l)},xl=function(e,t,a,l=!1){e&&t&&a&&e.removeEventListener(t,a,l)},Cl={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};const Ol=X({name:"Bar",props:{vertical:Boolean,size:String,move:Number,ratio:Number,always:Boolean},setup(e){const t=_e(null),a=_e(null),l=fe("scrollbar",{}),o=fe("scrollbar-wrap",{}),n=ie((()=>Cl[e.vertical?"vertical":"horizontal"])),r=_e({}),i=_e(null),d=_e(null),c=_e(!1);let u=null;const m=ie((()=>s(t.value[n.value.offset],2)/o.value[n.value.scrollSize]/e.ratio/a.value[n.value.offset])),p=e=>{if(!1===i.value)return;const l=r.value[n.value.axis];if(!l)return;const s=100*(-1*(t.value.getBoundingClientRect()[n.value.direction]-e[n.value.client])-(a.value[n.value.offset]-l))*m.value/t.value[n.value.offset];o.value[n.value.scroll]=s*o.value[n.value.scrollSize]/100},f=()=>{i.value=!1,r.value[n.value.axis]=0,xl(document,"mousemove",p),xl(document,"mouseup",f),document.onselectstart=u,d.value&&(c.value=!1)},_=e=>{e.stopImmediatePropagation(),i.value=!0,Sl(document,"mousemove",p),Sl(document,"mouseup",f),u=document.onselectstart,document.onselectstart=()=>!1},v=ie((()=>function({move:e,size:t,bar:a}){const l={},o=`translate${a.axis}(${e}%)`;return l[a.size]=t,l.transform=o,l.msTransform=o,l.webkitTransform=o,l}({size:e.size,move:e.move,bar:n.value}))),h=()=>{d.value=!1,c.value=!!e.size},b=()=>{d.value=!0,c.value=i.value};return te((()=>{Sl(l.value,"mousemove",h),Sl(l.value,"mouseleave",b)})),Le((()=>{xl(document,"mouseup",f),xl(l.value,"mousemove",h),xl(l.value,"mouseleave",b)})),{instance:t,thumb:a,bar:n,clickTrackHandler:e=>{const l=100*(Math.abs(e.target.getBoundingClientRect()[n.value.direction]-e[n.value.client])-a.value[n.value.offset]/2)*m.value/t.value[n.value.offset];o.value[n.value.scroll]=l*o.value[n.value.scrollSize]/100},clickThumbHandler:e=>{e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button)||(window.getSelection()&&window.getSelection().removeAllRanges(),_(e),r.value[n.value.axis]=e.currentTarget[n.value.offset]-(e[n.value.client]-e.currentTarget.getBoundingClientRect()[n.value.direction]))},thumbStyle:v,visible:c}}});const Il=X({name:"ZwScrollbar",components:{Bar:St(Ol,[["render",function(e,t,a,l,o,n){return oe(),ne($e,{name:"el-scrollbar-fade"},{default:se((()=>[Oe(ce("div",{ref:"instance",class:we(["el-scrollbar__bar","is-"+e.bar.key]),onMousedown:t[1]||(t[1]=(...t)=>e.clickTrackHandler&&e.clickTrackHandler(...t))},[ce("div",{ref:"thumb",class:"el-scrollbar__thumb",style:Fe(e.thumbStyle),onMousedown:t[0]||(t[0]=(...t)=>e.clickThumbHandler&&e.clickThumbHandler(...t))},null,36)],34),[[Ue,e.always||e.visible]])])),_:1})}]])},props:{height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:[String,Array],default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20}},emits:["scroll"],setup(e,{emit:t}){const a=_e("0"),l=_e("0"),o=_e(0),n=_e(0),r=_e(null),i=_e(null),d=_e(null),c=_e(1),u=_e(1);Q("scrollbar",r),Q("scrollbar-wrap",i);const m=()=>{if(!i.value)return;const t=i.value.offsetHeight-4,o=i.value.offsetWidth-4,n=s(t,2)/i.value.scrollHeight,r=s(o,2)/i.value.scrollWidth,d=Math.max(n,e.minSize),m=Math.max(r,e.minSize);c.value=n/(t-n)/(d/(t-d)),u.value=r/(o-r)/(m/(o-m)),l.value=d+4<t?d+"px":"",a.value=m+4<o?m+"px":""},p=ie((()=>{let t=e.wrapStyle;return J(t)?(t=function(e){const t={};for(let a=0;a<e.length;a++)e[a]&&je(t,e[a]);return t}(t),t.height=kl(e.height),t.maxHeight=kl(e.maxHeight)):Pe(t)&&(t+=kl(e.height)?`height: ${kl(e.height)};`:"",t+=kl(e.maxHeight)?`max-height: ${kl(e.maxHeight)};`:""),t}));return te((()=>{var t,a;e.native||De(m),e.noresize||(t=d.value,a=m,!gl&&t&&(t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new dt(yl),t.__ro__.observe(t)),t.__resizeListeners__.push(a)),addEventListener("resize",m))})),Le((()=>{var t,a;e.noresize||(t=d.value,a=m,t&&t.__resizeListeners__&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(a),1),t.__resizeListeners__.length||t.__ro__.disconnect()),removeEventListener("resize",m))})),{moveX:o,moveY:n,ratioX:u,ratioY:c,sizeWidth:a,sizeHeight:l,style:p,scrollbar:r,wrap:i,resize:d,update:m,handleScroll:()=>{if(i.value){const e=i.value.offsetHeight-4,a=i.value.offsetWidth-4;n.value=100*i.value.scrollTop/e*c.value,o.value=100*i.value.scrollLeft/a*u.value,t("scroll",{scrollTop:i.value.scrollTop,scrollLeft:i.value.scrollLeft})}},setScrollTop:e=>{wl(e)&&(i.value.scrollTop=e)},setScrollLeft:e=>{wl(e)&&(i.value.scrollLeft=e)}}}}),Tl={ref:"scrollbar",class:"el-scrollbar"};const Ll=St(Il,[["render",function(e,t,a,l,o,n){const s=le("bar");return oe(),de("div",Tl,[ce("div",{ref:"wrap",class:we([e.wrapClass,"el-scrollbar__wrap",e.native?"":"el-scrollbar__wrap--hidden-default"]),style:Fe(e.style),onScroll:t[0]||(t[0]=(...t)=>e.handleScroll&&e.handleScroll(...t))},[(oe(),ne(pe(e.tag),{ref:"resize",class:we(["el-scrollbar__view",e.viewClass]),style:Fe(e.viewStyle)},{default:se((()=>[Re(e.$slots,"default")])),_:3},8,["class","style"]))],38),e.native?Ve("",!0):(oe(),de(be,{key:0},[re(s,{move:e.moveX,ratio:e.ratioX,size:e.sizeWidth,always:e.always},null,8,["move","ratio","size","always"]),re(s,{move:e.moveY,ratio:e.ratioY,size:e.sizeHeight,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))],512)}]]);var Al=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ll});var El=St(X({name:"MenuItem",props:{routeConfig:{type:Object,default:()=>({})}},setup(e){const{routeConfig:t}=Ne(e),a=ie((()=>{const e=t.value.meta.icon;return Pe(e)?{type:"ant",name:e}:e})),l=ie((()=>{const e=t.value.meta.frame_src,a=t.value.meta.outer_link;return e?{path:t.value.path,query:{frameSrc:encodeURIComponent(e)}}:a?{path:t.value.path,query:{outerLink:encodeURIComponent(a)}}:t.value.path})),o=ie((()=>t.value.meta.title)),n=ie((()=>a.value.type&&(a.value.name||a.value.path)));return{path:l,title:o,iconData:a,isShowIcon:n}}}),[["render",function(e,t,a,l,o,n){const s=le("ZwIcons"),r=le("router-link"),i=le("a-menu-item");return oe(),ne(i,ue(e.$attrs,{key:e.path,title:e.title}),{default:se((()=>[re(r,{to:e.path},{default:se((()=>[e.isShowIcon?(oe(),ne(s,me(ue({key:0},e.iconData)),null,16)):Ve("",!0),ce("span",null,Ee(e.title),1)])),_:1},8,["to"])])),_:1},16,["title"])}]]);const Ml=X({name:"SubMenu",components:{MenuItem:El},props:{menuInfo:{type:Object,default:()=>({})}},setup(e){const{menuInfo:t}=Ne(e),a=ie((()=>{const e=t.value.meta.icon;return Pe(e)?{type:"ant",name:e}:e})),l=ie((()=>a.value.type&&(a.value.name||a.value.path)));return{iconData:a,isShowIcon:l}}});var zl=St(X({name:"Menus",components:{SubMenu:St(Ml,[["render",function(e,t,a,l,o,n){const s=le("ZwIcons"),r=le("MenuItem"),i=le("SubMenu",!0),d=le("a-sub-menu");return oe(),ne(d,ue(e.$attrs,{key:e.menuInfo.path}),{title:se((()=>[ce("span",null,[e.isShowIcon?(oe(),ne(s,me(ue({key:0},e.iconData)),null,16)):Ve("",!0),ce("span",null,Ee(e.menuInfo.meta.title),1)])])),default:se((()=>[(oe(!0),de(be,null,he(e.menuInfo.children,(e=>(oe(),de(be,{key:e.path},[e.children?(oe(),ne(i,{key:1,"menu-info":e},null,8,["menu-info"])):(oe(),ne(r,{key:0,"route-config":e},null,8,["route-config"]))],64)))),128))])),_:1},16)}]]),MenuItem:El,ZwScrollbar:Ll},setup(){const e=fe("context"),l=ie((()=>e.$route)),o=ie((()=>ft(e.$store.getters.menus))),n=ie((()=>e.$store.getters.menusList));if(ut(n.value)){if(!Pa(n.value))return e.$router.push("/login")}const s=ie((()=>n.value.find((e=>e.path===l.value.path))));function r(){var e;const t=[];return function e(a){if(!a)return;const l=n.value.find((e=>a===e.id));l&&(t.unshift(l.path),l.p_id&&e(l.p_id))}(null==(e=s.value)?void 0:e.p_id),t}const d=ye({selectedKeys:ie({get:()=>[l.value.path],set:e=>e}),openKeys:[...r()],preOpenKeys:ie((()=>[...r()]))});Ie((()=>e.$store.getters.collapsed),(e=>{d.openKeys=e?[]:d.preOpenKeys}),{immediate:!0});const c=fe("updateDrawerVisible");return u=i({},Ne(d)),t(u,a({menusTree:o,onMenuItemClick:()=>{c(!1)}}));var u}}),[["render",function(e,t,a,l,o,n){const s=le("MenuItem"),r=le("SubMenu"),i=le("a-menu"),d=le("ZwScrollbar");return oe(),ne(d,{class:"zw-scrollbar-outer"},{default:se((()=>[re(i,ue(e.$attrs,{mode:"inline","open-keys":e.openKeys,"onUpdate:open-keys":t[0]||(t[0]=t=>e.openKeys=t),selectedKeys:e.selectedKeys,"onUpdate:selectedKeys":t[1]||(t[1]=t=>e.selectedKeys=t),onClick:e.onMenuItemClick}),{default:se((()=>[(oe(!0),de(be,null,he(e.menusTree,(e=>(oe(),de(be,{key:e.path},[e.children?(oe(),ne(r,{key:1,"menu-info":e},null,8,["menu-info"])):(oe(),ne(s,{key:0,"route-config":e},null,8,["route-config"]))],64)))),128))])),_:1},16,["open-keys","selectedKeys","onClick"])])),_:1})}]]);function jl({container:e=document.body,width:t="260px",height:a="150px",textAlign:l="center",textBaseline:o="middle",font:n="16px microsoft yahei",fillStyle:s="rgba(184, 184, 184, 0.15)",content:r="请勿外传",rotate:i=30,zIndex:d=0}={}){var c=document.createElement("canvas");c.setAttribute("width",t),c.setAttribute("height",a);const u=c.getContext("2d");u.textAlign=l,u.textBaseline=o,u.font=n,u.fillStyle=s,u.rotate(-Math.PI/180*i),u.fillText(r,50,120);var m=c.toDataURL();const p=document.createElement("div");p.setAttribute("style",`\n        position:absolute;\n        top:0;\n        left:0;\n        width:100%;\n        height:100%;\n        z-index:${d};\n        pointer-events:none;\n        background-repeat:repeat;\n        background-image:url('${m}')`),e.style.position="relative",e.insertBefore(p,e.firstChild)}const Pl=X({name:"MainContent",components:{},setup(){const e=fe("context"),t=ie((()=>e.$store.getters.cachedviews.map((e=>e.name)))),a=_e(null);return te((()=>{if(a.value){const t=e.$store.state.username;jl({container:a.value,content:" - "+t})}})),{cacheViews:t,watermarkcontent:a}}}),$l={ref:"watermarkcontent",class:"container"};var Ul=St(Pl,[["render",function(e,t,a,l,o,n){const s=le("router-view"),r=le("a-layout-content");return oe(),ne(r,null,{default:se((()=>[ce("div",$l,[re(s,null,{default:se((({Component:t})=>[re($e,{name:"fade",mode:"out-in"},{default:se((()=>[(oe(),ne(Be,{include:e.cacheViews},[(oe(),ne(pe(t)))],1032,["include"]))])),_:2},1024)])),_:1})],512)])),_:1})}],["__scopeId","data-v-48cf301f"]]);const Fl=X({name:"TagsView",setup(){const e=fe("context"),t=ie((()=>e.$store.getters.visitedviews)),a=t=>t.path==e.$route.fullPath;Ie((()=>e.$route),(t=>{(t=>{if(e.$route.path){const t=e.$route;e.$store.dispatch("addVisitedViews",t)}})()}),{immediate:!0});const l=_e(!1),o=_e(0),n=_e(0),s=_e(null),r=()=>{l.value=!1},i=t=>{e.$store.dispatch("delVisitedViews",t).then((o=>{if(a(t)){let t=o.slice(-1)[0];t?e.$router.push(t):e.$router.push({path:"/",query:{t:Date.now()}})}l.value&&r()}))};return Ie(l,(e=>{e?document.body.addEventListener("click",r):document.body.removeEventListener("click",r)})),{visitedViews:t,isActive:a,delSelectTag:i,openMenu:(e,t)=>{o.value=t.clientX,n.value=t.clientY,s.value=e,l.value=!0},visible:l,left:o,top:n,closeSelectedTag:e=>{i(e)},closeOthersTags:t=>{e.$store.dispatch("delOthers",t).then((l=>{a(t)||e.$router.push(t),r()}))},closeAllTags:()=>{e.$store.dispatch("delAll").then((()=>{e.$router.push({path:"/",query:{t:Date.now()}}),r()}))},selectedTag:s}}}),Dl={class:"tags-view"},Rl={class:"tag-list"},Vl=["onClick"];const Nl=X({name:"Layout",components:{HeaderTools:bl,SystemMenus:zl,MainContent:Ul,TagsView:St(Fl,[["render",function(e,t,a,l,o,n){const s=le("CloseOutlined"),r=le("router-link"),i=le("ZwScrollbar");return oe(),de("div",Dl,[re(i,{class:"zw-scrollbar_outer"},{default:se((()=>[ce("div",Rl,[(oe(!0),de(be,null,he(e.visitedViews,(t=>(oe(),ne(r,{key:t.path,to:t.path,"active-class":e.isActive(t)?"active":"",class:"tag-item",onContextmenu:Me((a=>e.openMenu(t,a)),["prevent"])},{default:se((()=>[ge(Ee(t.title)+" ",1),ce("i",{onClick:Me((a=>e.delSelectTag(t)),["prevent","stop"]),class:"close-btn"},[re(s,{class:"icon-btn icon1"})],8,Vl)])),_:2},1032,["to","active-class","onContextmenu"])))),128))])])),_:1}),Oe(ce("ul",{style:Fe({left:e.left+"px",top:e.top+"px"}),class:"contextmenu"},[ce("li",{onClick:t[0]||(t[0]=Me((t=>e.closeSelectedTag(e.selectedTag)),["stop"]))},"关闭当前"),ce("li",{onClick:t[1]||(t[1]=Me((t=>e.closeOthersTags(e.selectedTag)),["stop"]))},"关闭其他"),ce("li",{onClick:t[2]||(t[2]=Me(((...t)=>e.closeAllTags&&e.closeAllTags(...t)),["stop"]))},"关闭全部")],4),[[Ue,e.visible]])])}],["__scopeId","data-v-3eb59023"]])},setup(){const e=fe("context"),t=ie((()=>e.$store.getters.collapsed)),a=_e(!0),l=_e(!1);Q("updateDrawerVisible",(e=>{l.value=e}));const o=function(){if(!document.hidden){const e=document.body.clientWidth;a.value=!(e<1280)}};return xe((()=>{o(),window.addEventListener("resize",o)})),Le((()=>{window.removeEventListener("resize",o)})),{collapsed:t,isLayoutSide:a,drawerVisible:l}}}),Bl=e=>(ke("data-v-018d708b"),e=e(),Se(),e),Hl=Bl((()=>ce("div",{class:"logo"},null,-1))),ql=Bl((()=>ce("div",{class:"logo"},null,-1)));var Kl=St(Nl,[["render",function(e,t,a,l,o,n){const s=le("SystemMenus"),r=le("a-layout-sider"),i=le("a-drawer"),d=le("HeaderTools"),c=le("tags-view"),u=le("MainContent"),m=le("a-layout");return oe(),ne(m,{class:"layout-wrapper"},{default:se((()=>[e.isLayoutSide?(oe(),ne(r,{key:0,class:"side-menu",collapsed:e.collapsed,"collapsed-width":48,trigger:null,collapsible:""},{default:se((()=>[Hl,re(s,{class:"menu-content",theme:"dark"})])),_:1},8,["collapsed"])):(oe(),ne(i,{key:1,placement:"left",closable:!1,visible:e.drawerVisible,"onUpdate:visible":t[0]||(t[0]=t=>e.drawerVisible=t),class:"side-menu",width:278},{default:se((()=>[ql,re(s,{class:"menu-content"})])),_:1},8,["visible"])),re(m,null,{default:se((()=>[re(d,{"is-layout-side":e.isLayoutSide,drawer:e.drawerVisible,"onUpdate:drawer":t[1]||(t[1]=t=>e.drawerVisible=t)},null,8,["is-layout-side","drawer"]),re(c),re(u)])),_:1})])),_:1})}],["__scopeId","data-v-018d708b"]]);const Wl=[...dl,...[{path:"/",name:"Root",redirect:"/psn/base",component:Kl,children:[{path:"/psn/base",name:"PersonalInfo",component:()=>Fa((()=>import("./info.55eb7e42.js")),["assets/info.55eb7e42.js","assets/info.c0ea08c9.css","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/lodash.3cabe671.js","assets/dayjs.39b8ebe2.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"个人信息",icon:"UserOutlined"}},{path:"/sys/users",name:"SysUsers",component:()=>Fa((()=>import("./user.4c9e7492.js")),["assets/user.4c9e7492.js","assets/user.9f052be1.css","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"用户列表",icon:"UserOutlined"}},{path:"/sys/roles",name:"SysRoles",component:()=>Fa((()=>import("./roles.1071076b.js")),["assets/roles.1071076b.js","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"角色列表",icon:"UserOutlined"}},{path:"/sys/menus",name:"SysMenus",component:()=>Fa((()=>import("./menus.25506f24.js")),["assets/menus.25506f24.js","assets/menus.4e4a9196.css","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"菜单列表",icon:"UserOutlined"}},{path:"/sys/logs",name:"SysLogs",component:()=>Fa((()=>import("./logs.b35fe454.js")),["assets/logs.b35fe454.js","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"基础日志",icon:"UserOutlined"}},{path:"/sys/login/logs",name:"SysLoginLogs",component:()=>Fa((()=>import("./login.f3692afa.js")),["assets/login.f3692afa.js","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"登录日志",icon:"UserOutlined"}}]}],...[{path:"/machine",name:"Machine",redirect:"/machine/product_list",component:Kl,children:[{path:"/machine/product_list",name:"ProductList",component:()=>Fa((()=>import("./list.b09343f3.js")),["assets/list.b09343f3.js","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"产品列表"}},{path:"/machine/product_in",name:"productIn",component:()=>Fa((()=>import("./in.51a216d2.js")),["assets/in.51a216d2.js","assets/in.004cf834.css","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/dayjs.39b8ebe2.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"产品入库"}},{path:"/machine/product_out",name:"productOut",component:()=>Fa((()=>import("./out.53972f0c.js")),["assets/out.53972f0c.js","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"产品出库"}},{path:"/machine/base_clients",name:"base_clients",component:()=>Fa((()=>import("./clients.a8f87a61.js")),["assets/clients.a8f87a61.js","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"客户管理"}},{path:"/machine/base_brand",name:"base_brand",component:()=>Fa((()=>import("./brand.06edd91a.js")),["assets/brand.06edd91a.js","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/lodash.3cabe671.js","assets/dayjs.39b8ebe2.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"品牌管理"}},{path:"/machine/base_fitment",name:"base_fitment",component:()=>Fa((()=>import("./fitment.43acb2f1.js")),["assets/fitment.43acb2f1.js","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"配件名称"}},{path:"/machine/quote",name:"QuotePrice",component:()=>Fa((()=>import("./quote.c4204ec9.js")),["assets/quote.c4204ec9.js","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"报价表"}},{path:"/machine/mine",name:"maintain_mine",component:()=>Fa((()=>import("./mine.fa3dd3f2.js")),["assets/mine.fa3dd3f2.js","assets/mine.49f739f6.css","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/index.efa8beba.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/dayjs.39b8ebe2.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/lodash.3cabe671.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"我的维修"}},{path:"/machine/maintain_list",name:"maintain_list",component:()=>Fa((()=>import("./list.ec4f02fd.js")),["assets/list.ec4f02fd.js","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/Maintain.13cb034f.js","assets/Maintain.c221c7f8.css","assets/dayjs.39b8ebe2.js","assets/lodash.3cabe671.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/index.efa8beba.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"维修列表"}},{path:"/machine/maintain_todo",name:"maintain_todo",component:()=>Fa((()=>import("./todo.2ee85f7b.js")),["assets/todo.2ee85f7b.js","assets/todo.02eabcda.css","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/Maintain.13cb034f.js","assets/Maintain.c221c7f8.css","assets/dayjs.39b8ebe2.js","assets/lodash.3cabe671.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/index.efa8beba.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"待维修"}},{path:"/machine/maintain_done",name:"maintain_done",component:()=>Fa((()=>import("./done.7a7d3a9f.js")),["assets/done.7a7d3a9f.js","assets/vue.df901c44.js","assets/@vue.889a75b5.js","assets/Maintain.13cb034f.js","assets/Maintain.c221c7f8.css","assets/dayjs.39b8ebe2.js","assets/lodash.3cabe671.js","assets/@ant-design.2d3b2fbb.js","assets/@ctrl.fa7cbd46.js","assets/index.efa8beba.js","assets/ant-design-vue.a6735399.js","assets/ant-design-vue.491d34ed.css","assets/@babel.29daae83.js","assets/regenerator-runtime.6bfb484e.js","assets/lodash-es.a53432ff.js","assets/resize-observer-polyfill.8deb1e21.js","assets/async-validator.5d25c98b.js","assets/scroll-into-view-if-needed.c68eec67.js","assets/compute-scroll-into-view.6058b3be.js","assets/vue-types.6e6d84ba.js","assets/dom-align.f1b5d360.js","assets/vuex.7d8a0789.js","assets/axios.82d3905a.js","assets/vue-router.8ca1e268.js","assets/nprogress.6eaf9b6f.js","assets/nprogress.18a10d8a.css","assets/js-cookie.31874410.js","assets/clipboard.16092f5a.js"]),meta:{title:"已维修"}}]}]],Zl=nt({history:st(),routes:Wl});(e=>{e.beforeEach(((e,t,a)=>c(this,null,(function*(){if(rt.start(),rt.inc(),document.title=(e.meta.title?e.meta.title+" - ":"")+"管理系统",$a.indexOf(e.path)>-1)return a();if(it.get("Token")){const t=Pa();return ut(t)?a({path:"/404"}):t.some((t=>t.path===e.path))?a():a({path:"/401"})}a({path:"/login",query:{redirect:encodeURIComponent(e.fullPath)}})})))),e.afterEach((()=>{rt.done()}))})(Zl);var Yl=["get&menu/all"];const Jl=ot.create({baseURL:"http://124.222.21.58:9520/api/",timeout:1e4,withCredentials:!0}),Gl=[],Xl=function(e){const t=e.method+"&"+e.url;Gl.forEach((function(e,a){e.api===t&&Gl.splice(a,1)}))},Ql=function(){const e=Gl;ut(e)||e.forEach((function(t,a){t.cancel(`已终止 - ${t.api} - 的请求！`),e.splice(a,1)}))};Jl.interceptors.request.use((e=>{e.cancelToken=new ot.CancelToken((function(t){const a=e.method+"&"+e.url;!function(e){const t=e.method+"&"+e.url;return Gl.some((e=>!Yl.includes(e.api)&&e.api===t))}(e)?Gl.push({api:a,cancel:t}):t(`已终止 - ${a} - 的重复请求！`)}));const t=it.get("Token");e.headers=i({},e.headers),t&&(e.headers.Authorization=`Bearer ${t}`);const a=e.headers["Content-Type"];return"post"===e.method&&a&&a.startsWith("multipart/"),e}),(e=>(console.log(e),Promise.reject(e)))),Jl.interceptors.response.use((e=>(Xl(e.config),e.status>=200&&e.status<300?Promise.resolve(e.data||{}):(p.error(" fail  :: ",e.data.message),Ql(),Promise.reject(e)))),(e=>(ot.isCancel(e)?console.warn("warning: ",e.message):(e.message.includes("timeout")&&"ECONNABORTED"===e.code?p.warn("请求超时!"):e.response&&401===e.response.status?(Ql(),function(){const e=Zl.currentRoute.value.fullPath,t={path:"/login"};e.includes("login")||e.includes("redirect")||(t.query={redirect:encodeURIComponent(e)}),Zl.replace(t),it.remove("Token")}(),p.error("2 ::: 请重新登录！")):p.error("3 ::: "+e.message),Xl(e.config)),Promise.reject(e))));var eo={install(e,t){!ut(t)&&Object.assign(Jl.defaults,t),e.config.globalProperties.$http=Jl}};var to={state:{menus:[],menusAuthed:[],menusAllTree:[],menusList:[],userInfo:{},username:"",headimg:""},mutations:{set_userinfo:(e,t)=>{e.userInfo={id:t.id,account:t.account,phone:t.phone,email:t.email,username:t.username,headimg:t.headimg},e.username=t.username,e.headimg=t.headimg},set_menus:(e,t)=>{e.menusList=t;const a=mt(tt.exports.cloneDeep(t).filter((e=>"F"!==e.mold)),"id","p_id");e.menus=a;const l=mt(tt.exports.cloneDeep(t),"id","p_id");e.menusAuthed=l},set_menus_all_tree:(e,t)=>{e.menusAllTree=t},set_menus_list:(e,t)=>{e.menusList=t}},actions:{get_menus:({commit:e},t)=>new Promise(((t,a)=>{Jl.get("menu/auth").then((l=>{if(1!==l.state)return a(l.msg);e("set_menus",l.data),t(l.data)})).catch((e=>{a(e)}))})),get_menus_all:({commit:e},t)=>new Promise(((t,a)=>{Jl.get("menus/all").then((l=>{if(1!==l.state)return a(l.msg);const o=mt(l.data,"id","p_id");e("set_menus_all_tree",o),t(o)})).catch((e=>{a(e)}))}))}};var ao={namespaced:!0,state:{brands:[],clients:[],fitment:[],engineers:[],area:[],areaTree:[]},mutations:{set_brands:(e,t)=>{e.brands=t},set_clients:(e,t)=>{e.clients=t},set_fitments:(e,t)=>{e.fitment=t},set_area:(e,t)=>{e.area=t},set_area_tree:(e,t)=>{e.areaTree=t},set_engineers:(e,t)=>{e.engineers=t}},actions:{get_brands_action:({commit:e})=>new Promise(((t,a)=>{Jl.get("brand/tree_list").then((l=>{l.success?(e("set_brands",l.data),t(l.data)):a(l)})).catch((e=>{a(e)}))})),get_fitment_action:({commit:e})=>{Jl.get("fitment/all").then((t=>t.success?(e("set_fitments",t.data),Promise.resolve(t.data)):Promise.reject(t))).catch((e=>Promise.reject(e)))},get_clients_action:({commit:e})=>{Jl.get("client/all").then((t=>t.success?(e("set_clients",t.data),Promise.resolve(t.data)):Promise.reject(t))).catch((e=>Promise.reject(e)))},get_area_action:({commit:e})=>{Jl.get("area").then((t=>t.success?(e("set_area",t.data),e("set_area_tree",mt(t.data)),Promise.resolve(t.data)):Promise.reject(t))).catch((e=>Promise.reject(e)))},get_engineers:({commit:e})=>{Jl.get("user/repairs").then((t=>t.success?(e("set_engineers",t.data||[]),Promise.resolve(t.data)):Promise.reject(t))).catch((e=>Promise.reject(e)))}}};var lo={"/src/targets/base/store/sysm.ts":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:to}),"/src/targets/machine/store/machine.ts":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ao,storeName:"machine"})};const oo=i(i({},{"./modules/layout.ts":Ma,"./modules/tagsView.ts":ja}),lo),no={},so={},ro={},io=Object.values(oo).reduce(((e,t,a)=>{if(t.default.namespaced&&!t.storeName)throw new Error(`must define name for namespaced store at file: ${Object.keys(oo)[a]}`);return t.storeName?e[t.storeName]=t.default:(Object.assign(no,t.default.state),Object.assign(so,t.default.mutations),Object.assign(ro,t.default.actions)),e}),{});var co=lt({state:no,mutations:so,actions:ro,modules:io,getters:{collapsed:e=>e.collapsed,menus:e=>e.menus,menusAuthed:e=>e.menusAuthed,menusAllTree:e=>e.menusAllTree,menusList:e=>e.menusList,visitedviews:e=>e.visitedviews,cachedviews:e=>e.cachedviews,userinfo:e=>e.userInfo}});const{brandData:uo,staffData:mo,fitmentData:po,areaData:fo,areaTree:_o,findBrand:vo,fixProblem:ho}=i({},new class{constructor(){d(this,"$store",co),d(this,"brandData",ie((()=>{const e=this.$store.state.machine.brands;return ut(e)&&this.$store.dispatch("machine/get_brands_action").catch((e=>console.log("machine/get_brands_action",e))),e}))),d(this,"staffData",ie((()=>{const e=this.$store.state.machine.clients;return ut(e)&&this.$store.dispatch("machine/get_clients_action").catch((e=>console.log("machine/get_clients_action",e))),e}))),d(this,"areaData",ie((()=>{const e=this.$store.state.machine.area;return ut(e)&&this.$store.dispatch("machine/get_area_action").catch((e=>console.log("machine/get_area_action",e))),e}))),d(this,"areaTree",ie((()=>this.$store.state.machine.areaTree))),d(this,"fitmentData",ie((()=>{const e=this.$store.state.machine.fitment;return ut(e)&&this.$store.dispatch("machine/get_fitment_action").catch((e=>console.log("machine/get_fitment_action",e))),e}))),d(this,"findBrand",((e,t)=>{if(!t)return"";let a=null;for(let l=0;l<e.length&&(e[l].b_id==t?a=e[l].b_name:e[l].children&&(a=this.findBrand(e[l].children,t)),!a);l++);return a})),d(this,"fixProblem",(e=>"ant-calendar-picker"===e.parentNode.className?document.getElementsByClassName("ant-modal-wrap")[0]:e.parentNode))}}),bo=X({name:"ZwCascader",props:{values:[String,Number,Array],searchFields:{type:String,default:"name"},getModelValue:Function},setup:(e,{emit:t})=>({dataArr:ie({get(){const t=e.values;if(ut(t))return[];if("Array"===ve(t))return t.map((e=>Number(e)));if("function"==typeof e.getModelValue){return e.getModelValue(t).map((e=>Number(e)))}return[]},set(e){t("update:values",e?e[e.length-1]:"")}}),fixProblem:_t,cascaderFilter:(t,a)=>a.some((a=>a[e.searchFields].toLowerCase().indexOf(t.toLowerCase())>-1))})}),go={class:"zw-cascader"};const yo=X({name:"ClientForm",props:{formdata:{type:[Object,String]},mode:{type:String,default:"add"}},components:{AreaCascader:St(bo,[["render",function(e,t,a,l,o,n){const s=le("a-cascader");return oe(),de("span",go,[re(s,ue({value:e.dataArr,"onUpdate:value":t[0]||(t[0]=t=>e.dataArr=t),placeholder:"请选择","expand-trigger":"hover","change-on-select":"","get-popup-container":e.fixProblem,"show-search":{filter:e.cascaderFilter}},e.$attrs),null,16,["value","get-popup-container","show-search"])])}]])},setup(e,{emit:t}){const a=fe("context"),l={a_id:null,c_name:"",c_phone:null,c_address:null,c_wx:"",c_ww:"",c_type:2,c_sort:0,c_mark:""},o=_e(null),n=ie((()=>!("view"===e.mode)));var s;ut(_o.value)&&a.$store.dispatch("machine/get_area_action"),s=e.mode,o.value=s&&"add"!==s?at.cloneDeep(e.formdata):at.cloneDeep(l);const r=_e(null),i=ie((()=>o.value.c_id||Math.random().toFixed(10)));return{foo:o,canEdit:n,dynamicForm:r,formkey:i,areaTree:_o,fixProblem:_t,getAreaValue:e=>{let t=[];return ut(e)||function e(a){fo.value.forEach((l=>{l.id===a&&(t.unshift(l.id),e(l.pid))}))}(e),t}}}}),wo={class:"form-table",cellspacing:"0",cellpadding:"0"},ko=ce("td",{class:"tdl tdl2_w"},[ce("i",{class:"required"}," * "),ge(" 客户名")],-1),So={class:"tdc tdc2_w"},xo=ce("td",{class:"tdl tdl2_w"},[ce("i",{class:"required"}," * "),ge(" 手机号 ")],-1),Co={class:"tdc tdc2_w"},Oo=ce("td",{class:"tdl tdl2_w"},"微信号",-1),Io={class:"tdc tdc2_w"},To=ce("td",{class:"tdl tdl2_w"},"旺旺号",-1),Lo={class:"tdc tdc2_w"},Ao=ce("td",{class:"tdl tdl2_w"},"客户类型",-1),Eo={class:"tdc tdc2_w"},Mo=ge(" 卖家 "),zo=ge(" 买家 "),jo=ge(" 买、卖家 "),Po=ge(" 其他 "),$o=ce("td",{class:"tdl tdl2_w"},"排序",-1),Uo={class:"tdc tdc2_w"},Fo=ce("td",{class:"tdl tdl2_w"},"联系地址",-1),Do={class:"tdc tdc2_w",colspan:3},Ro=ce("td",{class:"tdl tdl_w"},"备注",-1),Vo={class:"tdc tdc_w",colspan:3};var No=St(yo,[["render",function(e,t,a,l,o,n){const s=le("a-input"),r=le("a-select-option"),i=le("a-select"),d=le("AreaCascader"),c=le("a-textarea"),u=le("a-form"),m=Ce("can-edit");return oe(),ne(u,{ref:"dynamicForm",model:e.foo,key:e.formkey},{default:se((()=>[ce("table",wo,[ce("tr",null,[ko,ce("td",So,[Oe(re(s,{name:"c_name",value:e.foo.c_name,"onUpdate:value":t[0]||(t[0]=t=>e.foo.c_name=t),placeholder:"客户姓名"},null,8,["value"]),[[m,e.canEdit]])]),xo,ce("td",Co,[Oe(re(s,{name:"c_phone",value:e.foo.c_phone,"onUpdate:value":t[1]||(t[1]=t=>e.foo.c_phone=t),valueModifiers:{number:!0},placeholder:"客户手机号码"},null,8,["value"]),[[m,e.canEdit]])])]),ce("tr",null,[Oo,ce("td",Io,[Oe(re(s,{name:"c_wx",value:e.foo.c_wx,"onUpdate:value":t[2]||(t[2]=t=>e.foo.c_wx=t),placeholder:"客户微信号"},null,8,["value"]),[[m,e.canEdit]])]),To,ce("td",Lo,[Oe(re(s,{name:"c_wx",value:e.foo.c_ww,"onUpdate:value":t[3]||(t[3]=t=>e.foo.c_ww=t),placeholder:"客户微信号"},null,8,["value"]),[[m,e.canEdit]])])]),ce("tr",null,[Ao,ce("td",Eo,[Oe((oe(),ne(i,{value:e.foo.c_type,"onUpdate:value":t[4]||(t[4]=t=>e.foo.c_type=t),placeholder:"客户类型","option-filter-prop":"title","get-popup-container":e.fixProblem},{default:se((()=>[re(r,{value:1},{default:se((()=>[Mo])),_:1}),re(r,{value:2},{default:se((()=>[zo])),_:1}),re(r,{value:3},{default:se((()=>[jo])),_:1}),re(r,{value:4},{default:se((()=>[Po])),_:1})])),_:1},8,["value","get-popup-container"])),[[m,e.canEdit]])]),$o,ce("td",Uo,[Oe(re(s,{value:e.foo.c_sort,"onUpdate:value":t[5]||(t[5]=t=>e.foo.c_sort=t),valueModifiers:{number:!0},placeholder:"排序"},null,8,["value"]),[[m,e.canEdit]])])]),ce("tr",null,[Fo,ce("td",Do,[ce("div",null,[Oe(re(d,{values:e.foo.a_id,"onUpdate:values":t[6]||(t[6]=t=>e.foo.a_id=t),options:e.areaTree,"get-model-value":e.getAreaValue,"search-fields":"name","field-names":{label:"name",value:"id"}},null,8,["values","options","get-model-value"]),[[m,e.canEdit]])]),ce("div",null,[Oe(re(s,{value:e.foo.c_address,"onUpdate:value":t[7]||(t[7]=t=>e.foo.c_address=t),placeholder:"客户详细地址"},null,8,["value"]),[[m,e.canEdit]])])])]),ce("tr",null,[Ro,ce("td",Vo,[Oe(re(c,{value:e.foo.c_mark,"onUpdate:value":t[8]||(t[8]=t=>e.foo.c_mark=t),placeholder:"备注信息"},null,8,["value"]),[[m,e.canEdit]])])])])])),_:1},8,["model"])}]]),Bo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:No});var Ho=St(X({name:"FitmentForm",props:{formdata:{type:[Object,String]},mode:{type:String,default:"add"},editAble:{type:Boolean,default:!1}},computed:{},setup(e,{emit:t}){const a={f_name:"",f_sort:0,f_desc:""},l=_e(null),o=ie((()=>!("view"===e.mode)));var n;n=e.mode,l.value=n&&"add"!==n?at.cloneDeep(e.formdata):at.cloneDeep(a);const s=_e(null),r=ie((()=>l.value.id||Math.random().toFixed(10)));return{foo:l,canEdit:o,productForm:s,formkey:r,cascaderFilter:(e,t)=>t.some((t=>t.b_name.toLowerCase().indexOf(e.toLowerCase())>-1)),fixProblem:_t,handleBrandChange:e=>{ut(e)||(l.value.b_all_path=e.join("-"),l.value.b_id=e[e.length-1])}}}}),[["render",function(e,t,a,l,o,n){const s=le("a-input"),r=le("a-form-item"),i=le("a-textarea"),d=le("a-form"),c=Ce("can-edit");return oe(),ne(d,{ref:"productForm",model:e.foo,key:e.formkey,"label-col":{span:5},"wrapper-col":{span:16}},{default:se((()=>[re(r,{label:"配件名称"},{default:se((()=>[Oe(re(s,{value:e.foo.f_name,"onUpdate:value":t[0]||(t[0]=t=>e.foo.f_name=t),placeholder:"配件名称"},null,8,["value"]),[[c,e.canEdit]])])),_:1}),re(r,{label:"排序"},{default:se((()=>[Oe(re(s,{value:e.foo.f_sort,"onUpdate:value":t[1]||(t[1]=t=>e.foo.f_sort=t),placeholder:"排序"},null,8,["value"]),[[c,e.canEdit]])])),_:1}),re(r,{label:"描述"},{default:se((()=>[Oe(re(i,{value:e.foo.f_desc,"onUpdate:value":t[2]||(t[2]=t=>e.foo.f_desc=t),placeholder:"描述"},null,8,["value"]),[[c,e.canEdit]])])),_:1})])),_:1},8,["model"])}]]),qo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ho});const Ko=X({name:"ZwCascader",props:["brands"],setup(e,{emit:t}){const a=fe("context");ut(uo.value)&&a.$store.dispatch("machine/get_brands_action");return{brandValue:ie({get:()=>e.brands?e.brands.split("-").map((e=>Number(e))):[],set(e){t("update:brands",e?e.join("-"):"")}}),brandData:uo,fixProblem:_t,cascaderFilter:(e,t)=>t.some((t=>t.b_name.toLowerCase().indexOf(e.toLowerCase())>-1)),handleBrandChange:e=>{console.log("change value: ",e),ut(e)||t("change",e)}}}}),Wo={class:"zw-cascader"};var Zo=St(Ko,[["render",function(e,t,a,l,o,n){const s=le("a-cascader");return oe(),de("span",Wo,[re(s,{value:e.brandValue,"onUpdate:value":t[0]||(t[0]=t=>e.brandValue=t),options:e.brandData,"field-names":{label:"b_name",value:"b_id"},"get-popup-container":e.fixProblem,"expand-trigger":"hover","change-on-select":"","show-search":{filter:e.cascaderFilter},placeholder:"选择品牌型号",onChange:e.handleBrandChange},null,8,["value","options","get-popup-container","show-search","onChange"])])}]]);const Yo=X({name:"ProductForm",props:{formdata:{type:[Object,String]},mode:{type:String,default:"add"}},components:{BrandCascader:Zo},setup(e,{emit:t}){fe("context");const a={brandValue:[],b_id:null,f_id:null,f_name:"",p_state:1,p_total_num:0,cost_price:0,sell_price:0,repair_price:0,activity_price:0,p_mark:""},l=ie((()=>!("view"===e.mode))),o=_e(null);var n;(n=e.mode)&&"add"!==n?(o.value=at.cloneDeep(e.formdata),Object.assign(o.value,i({},o.value.b),i({},o.value.f))):o.value=at.cloneDeep(a);const s=_e(null),r=ie((()=>o.value.id||Math.random().toFixed(10))),d=_e(null),{columns:c,beforeListdataLoad:u,rowClassName:m,filters:p}=function(e){const t=ye({io_mold:0,io_time:null}),a={title:"入库",children:[{title:"新旧程度",dataIndex:"i_fineness",align:"center",width:78,customRender:({text:e,record:t})=>2===t.io_mold?e:"--"},{title:"不良品数",dataIndex:"i_rejects",align:"center",width:78,customRender:({text:e,record:t})=>2===t.io_mold?e:"--"},{title:"不良品描述",dataIndex:"i_rejects_desc",ellipses:!0,align:"center",width:152,customRender:({text:e,record:t})=>2===t.io_mold?e:"--"},{title:"是否到货",dataIndex:"i_is_resived",align:"center",width:78,customRender:({text:e,record:t})=>{var a,l;return(l=a||(a={}))[l["已到货"]=1]="已到货",l[l["未到货"]=2]="未到货",Ae("span",{style:"color: "+(1==e?"green":"orange")},{default:()=>2===t.io_mold?a[e]:"--"})}},{title:"收货时间",dataIndex:"i_receipt_date",align:"center",width:102,customRender:({text:e,record:t})=>2===t.io_mold?e:"--"}]},l={title:"出库",children:[{title:"出库类型",dataIndex:"o_type",align:"center",width:82,customRender:({text:e,record:t})=>{var a,l;return(l=a||(a={}))[l["维修"]=1]="维修",l[l["销售"]=2]="销售",l[l["代发"]=3]="代发",l[l["其它"]=4]="其它",1===t.io_mold?a[e]:"--"}},{title:"出库状态",dataIndex:"o_state",align:"center",width:82,customRender:({text:e,record:t})=>{var a,l;return(l=a||(a={}))[l["正常"]=1]="正常",l[l["退回"]=2]="退回",l[l["返修"]=3]="返修",1===t.io_mold?a[e]:"--"}}]};return{columns:[{title:"类型",dataIndex:"io_mold",width:56,align:"center",customRender:({text:e})=>Ae("span",{style:"color: "+(1===e?"":"#ffa39e")},1===e?"出库":"入库")},{title:"数量",dataIndex:"io_num",width:56,align:"center"},{title:"价格",dataIndex:"io_price",width:86,align:"center"},{title:"总价",dataIndex:"io_total_price",width:86,align:"center"},...1===t.io_mold?[l]:2===t.io_mold?[a]:[l,a]],beforeListdataLoad:a=>{t.io_mold&&(a.io_mold=t.io_mold),t.io_time&&!ut(t.io_time)&&(a.io_time=JSON.stringify(t.io_time)),e&&(a.p_id=e)},rowClassName:e=>2===e.io_mold?"out-mold":"",filters:t}}(o.value.p_id);return Ie(p,(e=>{console.log(e),console.log(d.value),d.value.handleReload()}),{deep:!0}),{foo:o,productForm:s,formkey:r,cascaderFilter:(e,t)=>t.some((t=>t.b_name.toLowerCase().indexOf(e.toLowerCase())>-1)),fixProblem:_t,handerBrandCascaderChange:e=>{ut(e)||(o.value.b_id=e[e.length-1],o.value.b_all_path=e.join("-"))},fitments:po,brandData:uo,columns:c,beforeListdataLoad:u,rowClassName:m,filters:p,listdata:d,editable:l}}}),Jo=e=>(ke("data-v-77609184"),e=e(),Se(),e),Go={class:"form-table",cellspacing:"0",cellpadding:"0"},Xo=Jo((()=>ce("td",{class:"tdl tdl2_w"},[ce("i",{class:"required"},"*"),ge(" 品牌型号 ")],-1))),Qo={class:"tdc tdc2_w"},en=Jo((()=>ce("td",{class:"tdl tdl2_w"},"配件类型",-1))),tn={class:"tdc tdc2_w"},an=Jo((()=>ce("td",{class:"tdl tdl2_w"},"总数",-1))),ln={class:"tdc tdc2_w"},on=Jo((()=>ce("td",{class:"tdl tdl2_w"},"库存状态",-1))),nn={class:"tdc tdc2_w"},sn=ge("正常"),rn=ge("处理"),dn=Jo((()=>ce("td",{class:"tdl tdl2_w"},"成本价",-1))),cn={class:"tdc tdc2_w"},un=Jo((()=>ce("td",{class:"tdl tdl2_w"},"销售价",-1))),mn={class:"tdc tdc2_w"},pn=Jo((()=>ce("td",{class:"tdl tdl2_w"},"维修价",-1))),fn={class:"tdc tdc2_w"},_n=Jo((()=>ce("td",{class:"tdl tdl2_w"},"活动价",-1))),vn={class:"tdc tdc2_w"},hn=Jo((()=>ce("td",{class:"tdl tdl_w"},"备注",-1))),bn={class:"tdc tdc_w",colspan:"3"},gn={class:"filter-tools"},yn=ge("全部"),wn=ge("出库"),kn=ge("入库");var Sn=St(Yo,[["render",function(e,t,a,l,o,n){const s=le("BrandCascader"),r=le("a-select-option"),i=le("a-select"),d=le("a-input"),c=le("a-textarea"),u=le("a-form"),m=le("a-range-picker"),p=le("ListData"),f=Ce("can-edit");return oe(),de(be,null,[(oe(),ne(u,{ref:"productForm",model:e.foo,key:e.formkey},{default:se((()=>[ce("table",Go,[ce("tr",null,[Xo,ce("td",Qo,[Oe(re(s,{brands:e.foo.b_all_path,"onUpdate:brands":t[0]||(t[0]=t=>e.foo.b_all_path=t),onChange:e.handerBrandCascaderChange},null,8,["brands","onChange"]),[[f,e.editable]])]),en,ce("td",tn,[Oe((oe(),ne(i,{value:e.foo.f_id,"onUpdate:value":t[1]||(t[1]=t=>e.foo.f_id=t),placeholder:"配件名称","allow-clear":"","show-search":"","option-filter-prop":"title","get-popup-container":e.fixProblem},{default:se((()=>[(oe(!0),de(be,null,he(e.fitments,(e=>(oe(),ne(r,{key:e.f_id,value:e.f_id},{default:se((()=>[ge(Ee(e.f_name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value","get-popup-container"])),[[f,e.editable]])])]),ce("tr",null,[an,ce("td",ln,[Oe(re(d,{name:"p_total_num",value:e.foo.p_total_num,"onUpdate:value":t[2]||(t[2]=t=>e.foo.p_total_num=t),valueModifiers:{number:!0},placeholder:"库存总量"},null,8,["value"]),[[f,e.editable]])]),on,ce("td",nn,[Oe((oe(),ne(i,{value:e.foo.p_state,"onUpdate:value":t[3]||(t[3]=t=>e.foo.p_state=t),placeholder:"库存状态","option-filter-prop":"title","get-popup-container":e.fixProblem},{default:se((()=>[re(r,{value:1},{default:se((()=>[sn])),_:1}),re(r,{value:2},{default:se((()=>[rn])),_:1})])),_:1},8,["value","get-popup-container"])),[[f,e.editable]])])]),ce("tr",null,[dn,ce("td",cn,[Oe(re(d,{value:e.foo.cost_price,"onUpdate:value":t[4]||(t[4]=t=>e.foo.cost_price=t),placeholder:"进货价格"},null,8,["value"]),[[f,e.editable]])]),un,ce("td",mn,[Oe(re(d,{value:e.foo.sell_price,"onUpdate:value":t[5]||(t[5]=t=>e.foo.sell_price=t),placeholder:"销售价格"},null,8,["value"]),[[f,e.editable]])])]),ce("tr",null,[pn,ce("td",fn,[Oe(re(d,{value:e.foo.repair_price,"onUpdate:value":t[6]||(t[6]=t=>e.foo.repair_price=t),placeholder:"维修价格"},null,8,["value"]),[[f,e.editable]])]),_n,ce("td",vn,[Oe(re(d,{value:e.foo.activity_price,"onUpdate:value":t[7]||(t[7]=t=>e.foo.activity_price=t),placeholder:"活动价格"},null,8,["value"]),[[f,e.editable]])])]),ce("tr",null,[hn,ce("td",bn,[Oe(re(c,{value:e.foo.p_mark,"onUpdate:value":t[8]||(t[8]=t=>e.foo.p_mark=t),placeholder:"备注信息"},null,8,["value"]),[[f,e.editable]])])])])])),_:1},8,["model"])),"view"===e.mode?(oe(),ne(p,{key:0,ref:"listdata",columns:e.columns,"row-key":"io_id","row-class-name":e.rowClassName,apis:{query:"product_io"},"before-listdata-load":e.beforeListdataLoad},{topTools:se((()=>[ce("div",gn,[re(i,{value:e.filters.io_mold,"onUpdate:value":t[9]||(t[9]=t=>e.filters.io_mold=t),placeholder:"请选择","get-popup-container":e.fixProblem},{default:se((()=>[(oe(),ne(r,{key:0},{default:se((()=>[yn])),_:1})),(oe(),ne(r,{key:1},{default:se((()=>[wn])),_:1})),(oe(),ne(r,{key:2},{default:se((()=>[kn])),_:1}))])),_:1},8,["value","get-popup-container"]),re(m,{value:e.filters.io_time,"onUpdate:value":t[10]||(t[10]=t=>e.filters.io_time=t),"value-format":"YYYY-MM-DD"},null,8,["value"])])])),_:1},8,["columns","row-class-name","before-listdata-load"])):Ve("",!0)],64)}],["__scopeId","data-v-77609184"]]),xn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Sn});const Cn=X({props:{formdata:{type:Object,required:!0,default:()=>({})}},setup(e,{emit:t}){const a=ie((()=>{const t=e.formdata;if(!t.b_all_path)return"";const a=t.b_all_path.split("-");return vo(uo.value,a[1===a.length?0:1])})),l=ie({get:()=>e.formdata,set(e){t("update:formdata",e)}}),o="YYYY-MM-DD HH:mm:ss";return He((()=>{l.value.io_total_price=(l.value.io_num*l.value.io_price).toFixed(2),1!==l.value.i_is_resived||l.value.i_receipt_date?2===l.value.i_is_resived&&(l.value.i_receipt_date=""):l.value.i_receipt_date=Y().format(o)})),{foo:l,brand:a,fixProblem:_t,dateFormat:o}}}),On={class:"form-table",cellspacing:"0",cellpadding:"0"},In=ce("td",{class:"tdl tdl2_w"},[ce("i",{class:"required"}," * "),ge(" 产品")],-1),Tn={class:"tdc tdc2_w"},Ln=ce("td",{class:"tdl tdl2_w"}," 数量 ",-1),An={class:"tdc tdc2_w"},En=ce("td",{class:"tdl tdl2_w"},"价格",-1),Mn={class:"tdc tdc2_w"},zn=ce("td",{class:"tdl tdl2_w"},"总价",-1),jn={class:"tdc tdc2_w",colspan:""},Pn=ce("td",{class:"tdl tdl2_w"},"是否到货",-1),$n={class:"tdc tdc2_w"},Un=ge(" 已到货 "),Fn=ge(" 未到货 "),Dn=ce("td",{class:"tdl tdl2_w"},"不良品数",-1),Rn={class:"tdc tdc2_w",colspan:""},Vn={key:0},Nn=ce("td",{class:"tdl tdl_w"},"收货时间",-1),Bn={class:"tdc tdc_w",colspan:"3"},Hn=ce("td",{class:"tdl tdl_w"},"不良品说明",-1),qn={class:"tdc tdc_w",colspan:"3"},Kn=ce("td",{class:"tdl tdl_w"},"备注",-1),Wn={class:"tdc tdc_w",colspan:"3"};var Zn=St(Cn,[["render",function(e,t,a,l,o,n){const s=le("a-input"),r=le("a-select-option"),i=le("a-select"),d=le("a-date-picker"),c=le("a-textarea"),u=le("a-form");return oe(),ne(u,{ref:"productForm",model:e.foo},{default:se((()=>[ce("table",On,[ce("tr",null,[In,ce("td",Tn,Ee(e.brand)+" - "+Ee(e.foo.b_name)+" - "+Ee(e.foo.f_name),1),Ln,ce("td",An,[re(s,{name:"io_num",value:e.foo.io_num,"onUpdate:value":t[0]||(t[0]=t=>e.foo.io_num=t),valueModifiers:{number:!0},placeholder:"数量"},null,8,["value"])])]),ce("tr",null,[En,ce("td",Mn,[re(s,{name:"io_price",value:e.foo.io_price,"onUpdate:value":t[1]||(t[1]=t=>e.foo.io_price=t),placeholder:"单价"},null,8,["value"])]),zn,ce("td",jn,[re(s,{name:"io_total_price",value:e.foo.io_total_price,"onUpdate:value":t[2]||(t[2]=t=>e.foo.io_total_price=t),placeholder:"总价"},null,8,["value"])])]),ce("tr",null,[Pn,ce("td",$n,[re(i,{value:e.foo.i_is_resived,"onUpdate:value":t[3]||(t[3]=t=>e.foo.i_is_resived=t),placeholder:"是否到货","get-popup-container":e.fixProblem},{default:se((()=>[re(r,{value:1},{default:se((()=>[Un])),_:1}),re(r,{value:2},{default:se((()=>[Fn])),_:1})])),_:1},8,["value","get-popup-container"])]),Dn,ce("td",Rn,[re(s,{name:"io_price",value:e.foo.i_rejects,"onUpdate:value":t[4]||(t[4]=t=>e.foo.i_rejects=t),valueModifiers:{number:!0},placeholder:"不良品数"},null,8,["value"])])]),1==e.foo.i_is_resived?(oe(),de("tr",Vn,[Nn,ce("td",Bn,[re(d,{value:e.foo.i_receipt_date,"onUpdate:value":t[5]||(t[5]=t=>e.foo.i_receipt_date=t),"show-Time":"","allow-clear":"","value-format":e.dateFormat,format:e.dateFormat},null,8,["value","value-format","format"])])])):Ve("",!0),ce("tr",null,[Hn,ce("td",qn,[re(c,{value:e.foo.i_rejects_desc,"onUpdate:value":t[6]||(t[6]=t=>e.foo.i_rejects_desc=t),placeholder:"不良品说明"},null,8,["value"])])]),ce("tr",null,[Kn,ce("td",Wn,[re(c,{value:e.foo.io_mark,"onUpdate:value":t[7]||(t[7]=t=>e.foo.io_mark=t),placeholder:"备注信息"},null,8,["value"])])])])])),_:1},8,["model"])}]]);const Yn=X({props:{formdata:{type:Object,required:!0,default:()=>({})}},setup(e,{emit:t}){const a=ie((()=>{const t=e.formdata;if(!t.b_all_path)return"";const a=t.b_all_path.split("-");return vo(uo.value,a[1===a.length?0:1])})),l=ie({get:()=>e.formdata,set(e){t("update:formdata",e)}});return He((()=>{l.value.io_total_price=(l.value.io_num*l.value.io_price).toFixed(2)})),{foo:l,brand:a,fixProblem:_t}}}),Jn={class:"form-table",cellspacing:"0",cellpadding:"0"},Gn=ce("td",{class:"tdl tdl2_w"},[ce("i",{class:"required"}," * "),ge(" 产品")],-1),Xn={class:"tdc tdc2_w"},Qn=ce("td",{class:"tdl tdl2_w"}," 数量 ",-1),es={class:"tdc tdc2_w"},ts=ce("td",{class:"tdl tdl2_w"},"价格",-1),as={class:"tdc tdc2_w"},ls=ce("td",{class:"tdl tdl2_w"},"总价",-1),os={class:"tdc tdc2_w",colspan:""},ns=ce("td",{class:"tdl tdl2_w"},"出货方式",-1),ss={class:"tdc tdc2_w"},rs=ge(" 维修 "),is=ge(" 销售 "),ds=ge(" 代发 "),cs=ge(" 其他 "),us=ce("td",{class:"tdl tdl2_w"},"出货状态",-1),ms={class:"tdc tdc2_w",colspan:""},ps=ge(" 正常"),fs=ge(" 退回 "),_s=ge(" 返修 "),vs=ce("td",{class:"tdl tdl_w"},"备注",-1),hs={class:"tdc tdc_w",colspan:"3"};const bs=[{title:"品牌",dataIndex:["b","b_all_path"],width:86,align:"center",customRender:({text:e})=>{const t=e?Number(e.split("-")[1]):null;return vo(uo.value,t)}},{title:"型号",dataIndex:["b","b_name"],width:86,align:"center"},{title:"配件名称",dataIndex:["f","f_name"],align:"center",width:86},{title:"总数",dataIndex:"p_total_num",align:"center",width:72},{title:"状态",dataIndex:"p_state",width:72,align:"center",customRender:({text:e})=>re(le("a-tag"),{color:1===e?"blue":"orange"},{default:()=>1===e?"正常":"处理"})},{title:"操作",dataIndex:"selection",width:86,align:"center"}];const gs=X({name:"ProductIoForm",components:{ProductOut:St(Yn,[["render",function(e,t,a,l,o,n){const s=le("a-input"),r=le("a-select-option"),i=le("a-select"),d=le("a-textarea"),c=le("a-form");return oe(),ne(c,{ref:"productForm",model:e.foo},{default:se((()=>[ce("table",Jn,[ce("tr",null,[Gn,ce("td",Xn,Ee(e.brand)+" - "+Ee(e.foo.b_name)+" - "+Ee(e.foo.f_name),1),Qn,ce("td",es,[re(s,{name:"io_num",value:e.foo.io_num,"onUpdate:value":t[0]||(t[0]=t=>e.foo.io_num=t),valueModifiers:{number:!0},placeholder:"数量"},null,8,["value"])])]),ce("tr",null,[ts,ce("td",as,[re(s,{name:"io_price",value:e.foo.io_price,"onUpdate:value":t[1]||(t[1]=t=>e.foo.io_price=t),placeholder:"单价"},null,8,["value"])]),ls,ce("td",os,[re(s,{name:"io_total_price",value:e.foo.io_total_price,"onUpdate:value":t[2]||(t[2]=t=>e.foo.io_total_price=t),placeholder:"总价"},null,8,["value"])])]),ce("tr",null,[ns,ce("td",ss,[re(i,{value:e.foo.o_type,"onUpdate:value":t[3]||(t[3]=t=>e.foo.o_type=t),placeholder:"出货方式","option-filter-prop":"title","get-popup-container":e.fixProblem},{default:se((()=>[re(r,{value:1},{default:se((()=>[rs])),_:1}),re(r,{value:2},{default:se((()=>[is])),_:1}),re(r,{value:3},{default:se((()=>[ds])),_:1}),re(r,{value:4},{default:se((()=>[cs])),_:1})])),_:1},8,["value","get-popup-container"])]),us,ce("td",ms,[re(i,{value:e.foo.o_state,"onUpdate:value":t[4]||(t[4]=t=>e.foo.o_state=t),placeholder:"出货方式","option-filter-prop":"title","get-popup-container":e.fixProblem},{default:se((()=>[re(r,{value:1},{default:se((()=>[ps])),_:1}),re(r,{value:2},{default:se((()=>[fs])),_:1}),re(r,{value:3},{default:se((()=>[_s])),_:1})])),_:1},8,["value","get-popup-container"])])]),ce("tr",null,[vs,ce("td",hs,[re(d,{value:e.foo.io_mark,"onUpdate:value":t[5]||(t[5]=t=>e.foo.io_mark=t),placeholder:"备注信息"},null,8,["value"])])])])])),_:1},8,["model"])}]]),ProductIn:Zn,Client:No},props:{formdata:{type:[Object,String]},mode:{type:String,default:"add"}},setup(e,{emit:t}){const a=fe("context"),l=fe("iomold");ut(mo.value)&&a.$store.dispatch("machine/get_clients_action");const{foo:o,columns:n,productForm:s,isSelector:r,editable:i}=function(e){const t={},a=_e(null);var l;l=e.mode,a.value=l&&"add"!==l?tt.exports.cloneDeep(e.formdata):tt.exports.cloneDeep(t);const o=ie((()=>"view"!==e.mode)),n=_e(null),s=_e(!1),r=[{title:"序号",key:"index",align:"center",width:45,customRender:({index:e})=>e+1},{title:"品牌型号",dataIndex:"b_all_path",align:"center",customRender:({record:e,text:t})=>{if(!t)return"";const a=t.split("-");return vo(uo.value,a[1===a.length?0:1])+" - "+e.b_name+" - "+e.f_name}},{title:"数量",dataIndex:"io_num",align:"center",width:56},{title:"价格",dataIndex:"io_price",align:"center",width:82},{title:"总价",dataIndex:"io_total_price",align:"center",width:82},{title:1==a.value.mold?"出库类型":"是否到货",dataIndex:"io",align:"center",width:72},{title:"选择",dataIndex:"action",align:"center",width:72,customHeaderCell:()=>({class:"select-btn"+(o.value?"":" disabled"),onclick:()=>{o.value&&(s.value=!s.value)}})}],i=fe("setModalWidth");return He((()=>{i(s.value?1162:640)})),{foo:a,columns:r,productForm:n,isSelector:s,editable:o}}(e);o.value.mold=l,o.value.io_order&&a.$http.get("product_io_order/"+o.value.io_order,{params:{mold:l}}).then((e=>{o.value.id=e.data.id,o.value.c_id=e.data.c_id,o.value.order=e.data.order,o.value.mark=e.data.mark,o.value.list=e.data.io.map((e=>(e.p&&(e.b_all_path=e.p.b.b_all_path,e.b_name=e.p.b.b_name,e.f_name=e.p.f.f_name),e)))}));const{subModalVisible:d,subComp:c,subFormdata:u}=function(e){return{subModalVisible:_e(!1),subComp:ie((()=>1===e?"ProductOut":"ProductIn")),subFormdata:_e({})}}(l);let m,p=!1;const f=_e(!1),_=_e({}),v=_e(null);return{fixProblem:_t,foo:o,mold:l,productForm:s,columns:n,isSelector:r,selectorCols:bs,editable:i,onRowSelect:function(e){p=!0,d.value=!0;const t=_e({i_rejects:0,i_rejects_desc:"",i_is_resived:2,i_receipt_date:""}),a=_e({o_type:2,o_state:1}),o=_e({p_id:e.p_id,b_all_path:e.b.b_all_path,b_name:e.b.b_name,f_name:e.f.f_name,io_num:1,io_price:e.sell_price,io_total_price:"",io_mark:""});u.value=2===l?Object.assign(o.value,t.value):Object.assign(o.value,a.value)},cascaderFilter:(e,t)=>t.some((t=>t.b_name.toLowerCase().indexOf(e.toLowerCase())>-1)),handleBrandChange:e=>{ut(e)||(o.value.b_all_path=e.join("-"),o.value.b_id=e[e.length-1])},handleSubFormOk:function(){if(p)if(ut(o.value.list))o.value.list=[u.value];else{o.value.list.some((e=>e.p_id===u.value.p_id))?a.$message.warn("重复添加！！！"):o.value.list.push(u.value)}d.value=!1},handleSubFormCancel:function(){!p&&Object.assign(u.value,m)},subModalVisible:d,subComp:c,subFormdata:u,handleListEdit:function(e){p=!1,d.value=!0,m=tt.exports.cloneDeep(e),u.value=e},handleListDel:function(e){a.$modal.confirm({title:"警告",content:"确定删除么？",icon:Ae(Ge),okText:"确定",okType:"danger",onOk(){const t=o.value.list.splice(e,1);t[0].io_id&&(o.value.delDatas&&!ut(o.value.delDatas)||(o.value.delDatas=[]),o.value.delDatas.push(t[0]))}})},showClientForm:f,clientFormdata:_,ClientForm:v,handleClientFormOk:()=>{const e=v.value.foo;e.c_name?(e.a_id||(e.a_id=0),a.$http.post("client",e).then((e=>{a.$message.success(e.message),f.value=!1,a.$store.dispatch("machine/get_clients_action")}))):a.$message.warning(Ae("span",null,[Ae("b",{style:"color: #f00; margin: 0 6px;"}," * "),Ae("span",null," 号为必填项")]))},staffData:mo}}}),ys=e=>(ke("data-v-0196406e"),e=e(),Se(),e),ws={class:"form-box"},ks={class:"l-side productForm"},Ss=ge("添加客户 "),xs={class:"form-table",cellspacing:"0",cellpadding:"0"},Cs=ys((()=>ce("td",{class:"tdl tdl2_w"},[ce("i",{class:"required"},"*"),ge("客户 ")],-1))),Os={class:"tdc tdc2_w"},Is=ys((()=>ce("td",{class:"tdl tdl2_w"},"类型",-1))),Ts={class:"tdc tdc2_w"},Ls=ys((()=>ce("td",{class:"tdl tdl_w"},"备注",-1))),As={class:"tdc tdc_w",colspan:"3"},Es={class:"tdw100",colspan:"4"},Ms={key:0},zs={key:1},js={key:2},Ps={key:3},$s={key:0},Us={key:1},Fs={class:"r-side selector"};var Ds=St(gs,[["render",function(e,t,a,l,o,n){const s=le("PlusOutlined"),r=le("a-button"),i=le("a-select-option"),d=le("a-select"),c=le("a-textarea"),u=le("EditFilled"),m=le("DeleteTwoTone"),p=le("a-space"),f=le("a-table"),_=le("a-form"),v=le("ListData"),h=le("ZwModal"),b=le("Client"),g=Ce("can-edit");return oe(),de("section",ws,[ce("aside",ks,[re(r,{class:"client-add-btn",onClick:t[0]||(t[0]=t=>e.showClientForm=!0)},{default:se((()=>[re(s),Ss])),_:1}),(oe(),ne(_,{ref:"productInForm",model:e.foo,key:Math.random().toString().substr(-6)},{default:se((()=>[ce("table",xs,[ce("tr",null,[Cs,ce("td",Os,[Oe((oe(),ne(d,{value:e.foo.c_id,"onUpdate:value":t[1]||(t[1]=t=>e.foo.c_id=t),placeholder:"请选择用户","allow-clear":"","show-search":"","option-filter-prop":"title","get-popup-container":e.fixProblem},{default:se((()=>[(oe(!0),de(be,null,he(e.staffData,(e=>(oe(),ne(i,{key:e.c_id,value:e.c_id,title:e.c_name},{default:se((()=>[ge(Ee(e.c_name),1)])),_:2},1032,["value","title"])))),128))])),_:1},8,["value","get-popup-container"])),[[g,e.editable]])]),Is,ce("td",Ts,Ee(1===e.foo.mold?"出库":"入库"),1)]),ce("tr",null,[Ls,ce("td",As,[Oe(re(c,{value:e.foo.mark,"onUpdate:value":t[2]||(t[2]=t=>e.foo.mark=t),placeholder:"备注信息"},null,8,["value"]),[[g,e.editable]])])]),ce("tr",null,[ce("td",Es,[re(f,{columns:e.columns,"data-source":e.foo.list,size:"small","row-key":"p_id",pagination:!1},{bodyCell:se((({column:t,record:a,index:l})=>["io"===t.dataIndex?(oe(),de(be,{key:0},[1==e.foo.mold?(oe(),de(be,{key:0},[1==a.o_type?(oe(),de("span",Ms,"维修")):2==a.o_type?(oe(),de("span",zs,"销售")):3==a.o_type?(oe(),de("span",js,"代发")):(oe(),de("span",Ps,"其他"))],64)):(oe(),de(be,{key:1},[1==a.i_is_resived?(oe(),de("span",$s,"已到货")):(oe(),de("span",Us,"未到货"))],64))],64)):Ve("",!0),"action"===t.dataIndex?(oe(),ne(p,{key:1,size:0},{default:se((()=>[Oe((oe(),ne(r,{type:"link",onClick:t=>e.handleListEdit(a)},{icon:se((()=>[re(u)])),_:2},1032,["onClick"])),[[g,e.editable]]),Oe((oe(),ne(r,{type:"link",onClick:t=>e.handleListDel(l)},{icon:se((()=>[re(m,{twoToneColor:"#ff4d4f"})])),_:2},1032,["onClick"])),[[g,e.editable]])])),_:2},1024)):Ve("",!0)])),_:1},8,["columns","data-source"])])])])])),_:1},8,["model"]))]),Oe(ce("aside",Fs,[re(v,{ref:"listdata",columns:e.selectorCols,rowKey:"p_id",apis:{query:"product",add:"product"},size:"small","dynamic-form":"ProductForm","page-size":8,onRowSelectSingle:e.onRowSelect},null,8,["columns","onRowSelectSingle"])],512),[[Ue,e.isSelector]]),re(h,{ref:"subModalModal",visible:e.subModalVisible,"onUpdate:visible":t[4]||(t[4]=t=>e.subModalVisible=t),title:"产品信息选择确认",width:640,"mask-closable":!1,"ok-text":"确认",onSubmit:e.handleSubFormOk,onClose:e.handleSubFormCancel},{default:se((()=>[(oe(),ne(pe(e.subComp),{formdata:e.subFormdata,"onUpdate:formdata":t[3]||(t[3]=t=>e.subFormdata=t)},null,8,["formdata"]))])),_:1},8,["visible","onSubmit","onClose"]),re(h,{ref:"ClientModal",visible:e.showClientForm,"onUpdate:visible":t[6]||(t[6]=t=>e.showClientForm=t),title:"添加客户",width:640,"mask-closable":!1,onSubmit:e.handleClientFormOk},{default:se((()=>[re(b,{ref:"ClientForm",formdata:e.clientFormdata,"onUpdate:formdata":t[5]||(t[5]=t=>e.clientFormdata=t)},null,8,["formdata"])])),_:1},8,["visible","onSubmit"])])}],["__scopeId","data-v-0196406e"]]),Rs={"/src/targets/base/components/dynamic/MenuForm.vue":wa,"/src/targets/base/components/dynamic/RoleForm.vue":Aa,"/src/targets/machine/components/dynamic/ClientForm.vue":Bo,"/src/targets/machine/components/dynamic/FitmentForm.vue":qo,"/src/targets/machine/components/dynamic/ProductForm.vue":xn,"/src/targets/machine/components/dynamic/ProductIoForm.vue":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ds})};const Vs=Object.values(Rs).reduce(((e,t)=>(e[t.default.name]=t.default,e)),{}),Ns=X({components:{SearchForm:Zt},inheritAttrs:!1,name:"ListData",props:{dynamicForm:{type:String,default:""},zIndex:{type:Number,default:1e3},showPagenation:{type:Boolean,default:!0},keywords:{type:String,default:""},pageSize:{type:Number,default:20},apis:{type:[Object,String]},beforeListdataLoad:Function,listdataLoaded:Function,beforeFormOpen:Function,formOpened:Function,beforeSubmit:Function,beforeRowDelete:Function,rowDeleted:Function,modalWidth:{type:[Number,Object],default:720},canSelect:{type:Boolean,default:!1},topTools:{type:Object,default:()=>({})}},setup(e,{attrs:t,emit:a}){const l=fe("context"),o=ie((()=>{const t=e.apis;return Pe(t)?{query:t,add:t,edit:t,del:t}:t})),n=_e([]),s=_e(!1),r=_e(e.keywords),d=_e({}),u=ye({position:["bottomLeft"],pageSize:e.pageSize,total:0,pageSizeOptions:["8","10","15","20","30","50"],showSizeChanger:!0,hideOnSinglePage:!0,showTotal:function(){return`共 ${u.total} 条`}}),m=function(t=1,i=u.pageSize){s.value=!0;const c={pageIndex:t,pageSize:i};r.value&&(c.keywords=r.value);const m=Object.assign(c,d.value);return We(e.beforeListdataLoad)&&e.beforeListdataLoad(m),new Promise(((e,t)=>{l.$http.get(o.value.query,{params:m}).then((t=>{t&&t.success&&(n.value=t.data.rows,u.total=t.data.count,e(t)),a("listdataLoaded",t)})).finally((()=>{s.value=!1}))}))};m();const p=tt.exports.debounce((()=>c(this,null,(function*(){const e=yield m(u.current||1,u.pageSize);a("refreshAfter",e)}))),500,{leading:!0}),f=ye({mode:"add",formdata:""}),_=_e(!1),v=ie((()=>G(e.modalWidth)?e.modalWidth[f.mode]:e.modalWidth)),h=ie((()=>({add:"新增",edit:"编辑",view:"查看"}[f.mode])));Q("reload",(()=>{p(),_.value=!1}));const b=(t,a,l)=>c(this,null,(function*(){if(We(e.beforeFormOpen)){if(!(yield e.beforeFormOpen(t,a,l)))return}f.mode=t,f.formdata=a,_.value=!0})),g=ye({add(){b("add","")},edit(e,t){b("edit",e,t)},view(e,t){b("view",e,t)},del(a){l.$modal.confirm({title:"警告",content:"确定删除么？",icon:Ae(Ge),okText:"确定",okType:"danger",onOk(){const n=t.rowKey||t["row-key"];return new Promise(((t,s)=>{We(e.beforeRowDelete)?e.beforeRowDelete(a,l).then((e=>{t(e),p()})):l.$http.delete(o.value.del+"/"+a[n]).then((a=>{a.success?(l.$message.success(a.message),p(),t(a.message),We(e.rowDeleted)&&e.rowDeleted(a)):(l.$message.error(a.message),s())})).catch((e=>{console.log(e)}))}))}})}}),y=_e(null),w=_e(null);const k=ye({selectedRowKeys:[],onChange:function(e){k.selectedRowKeys=e}}),S=function(e){const a=e||k.selectedRowKeys;if(ut(a))return[];const l=t.rowKey;return n.value.reduce(((e,t)=>(a.includes(t[l])&&e.push(i({},t)),e)),[])};Ie((()=>k.selectedRowKeys),(e=>{a("listdataSelect",S(e))}),{deep:!0}),qe((()=>{p.cancel()}));const x=_e(!1),C=_e(null);return{defineComponent:X,defineAsyncComponent:Ke,formComponents:Vs,loading:s,listdata:n,keyword:r,pagination:u,handlePaginationChange:e=>{u.pageSize=e.pageSize,u.current=e.current,m(e.current,e.pageSize)},handleKeywordSearch:()=>{u.current=1,m(1,u.pageSize)},handleSearch:e=>{d.value=e,r.value="",m()},handleReload:p,handleRowSelect:e=>{a("rowSelectSingle",e);const l=t.rowKey,o=k.selectedRowKeys,n=o.findIndex((t=>t===e[l]));n>=0?o.splice(n,1):o.push(e[l])},modalVisible:_,formTitle:h,handleAction:g,formOptions:f,asyncForm:w,zwModal:y,handleFormOk:()=>{let a;a=We(w.value.submit)?w.value.submit():function(a){return new Promise(((n,s)=>c(this,null,(function*(){if(We(e.beforeSubmit)&&!(yield e.beforeSubmit(a,w.value)))return s();let r=o.value[f.mode],i="post";if("edit"===f.mode){const e=t["row-key"];r+="/"+a[e],i="put"}l.$http[i](r,a).then((e=>{n(e)})).catch((e=>{s(e)}))}))))}(w.value.foo),a.then((e=>{if(!e.success)return l.$message.error(e.message);l.$message.success(e.message),p(),_.value=!1})).catch((e=>{})).finally((e=>{y.value.submiting=!1}))},rowSelectionOptions:k,getSelectedRows:S,listdataWrap:C,searchFormVisible:x,modalWidthRef:v,requestList:m}}}),Bs={class:"m-list"},Hs=ge(" 刷新 "),qs=ge(" 创建 "),Ks={ref:"listdataWrap",style:{width:"100%"}},Ws=ge(" 选择 ");var Zs=St(Ns,[["render",function(e,t,a,l,o,n){const s=le("a-input-search"),r=le("ReloadOutlined"),d=le("a-button"),c=le("PlusOutlined"),u=le("a-space"),m=le("a-col"),p=le("a-row"),f=le("EditFilled"),_=le("a-tooltip"),v=le("EyeOutlined"),h=le("DeleteTwoTone"),b=le("CheckOutlined"),g=le("a-table"),y=le("ZwModal"),w=le("SearchForm");return oe(),de("div",Bs,[Re(e.$slots,"topTools",{},(()=>[re(p,{class:"list-tools"},{default:se((()=>[re(m,{span:24},{default:se((()=>[re(u,null,{default:se((()=>[re(s,{value:e.keyword,"onUpdate:value":t[0]||(t[0]=t=>e.keyword=t),placeholder:"输入关键字","enter-button":"",onSearch:e.handleKeywordSearch},null,8,["value","onSearch"]),Re(e.$slots,"append-search",{},void 0,!0),Re(e.$slots,"tools-btn",{},(()=>[re(d,{onClick:e.handleReload,class:"tools-btn-refresh"},{icon:se((()=>[re(r)])),default:se((()=>[Hs])),_:1},8,["onClick"]),e.topTools.hiddenAdd?Ve("",!0):(oe(),ne(d,{key:0,onClick:e.handleAction.add,class:"tools-btn-add"},{icon:se((()=>[re(c)])),default:se((()=>[qs])),_:1},8,["onClick"])),Re(e.$slots,"append-tools-btn",{},void 0,!0)]),!0)])),_:3})])),_:3})])),_:3})]),!0),ce("div",Ks,[re(g,ue({ref:"listTable",class:"data-table",size:"small",bordered:"","table-layout":"fixed",scroll:{x:"100%"}},e.$attrs,{"data-source":e.listdata,loading:e.loading,pagination:!!e.showPagenation&&e.pagination,"row-selection":e.canSelect?e.rowSelectionOptions:null,onChange:e.handlePaginationChange}),{bodyCell:se((({column:t,text:a,record:l,index:o})=>["action"===t.dataIndex?Re(e.$slots,"action",me(ue({key:0},{column:t,text:a,record:l,index:o})),(()=>[re(u,{size:2},{default:se((()=>[re(_,{title:"编辑","mouse-leave-delay":0},{default:se((()=>[re(d,{type:"link",onClick:Me((t=>e.handleAction.edit(l,o)),["stop"])},{icon:se((()=>[re(f)])),_:2},1032,["onClick"])])),_:2},1024),re(_,{title:"查看","mouse-leave-delay":0},{default:se((()=>[re(d,{type:"link",onClick:Me((t=>e.handleAction.view(l,o)),["stop"])},{icon:se((()=>[re(v,{style:{color:"#606266"}})])),_:2},1032,["onClick"])])),_:2},1024),re(_,{title:"删除","mouse-leave-delay":0},{default:se((()=>[re(d,{type:"link",onClick:Me((t=>e.handleAction.del(l)),["stop"])},{icon:se((()=>[re(h,{twoToneColor:"#ff4d4f"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)]),!0):Ve("",!0),"selection"===t.dataIndex?(oe(),ne(d,{key:1,type:"link",onClick:Me((t=>e.handleRowSelect(l)),["stop"])},{icon:se((()=>[re(b)])),default:se((()=>[Ws])),_:2},1032,["onClick"])):Ve("",!0)])),_:3},16,["data-source","loading","pagination","row-selection","onChange"])],512),Re(e.$slots,"modal",{formOption:i({},e.formOptions),visible:e.modalVisible},(()=>[re(y,{ref:"zwModal",visible:e.modalVisible,"onUpdate:visible":t[1]||(t[1]=t=>e.modalVisible=t),mode:e.formOptions.mode,"onUpdate:mode":t[2]||(t[2]=t=>e.formOptions.mode=t),title:e.formTitle,width:e.modalWidthRef,"mask-closable":!1,"z-index":e.zIndex,onSubmit:e.handleFormOk},{default:se((()=>[(oe(),ne(pe(e.defineComponent(e.formComponents[e.dynamicForm])),{ref:"asyncForm",mode:e.formOptions.mode,formdata:e.formOptions.formdata},null,8,["mode","formdata"]))])),_:1},8,["visible","mode","title","width","z-index","onSubmit"])]),!0),Re(e.$slots,"search",{},(()=>[re(w,{visible:e.searchFormVisible,"onUpdate:visible":t[3]||(t[3]=t=>e.searchFormVisible=t),onSearch:e.handleSearch},null,8,["visible","onSearch"])]),!0)])}],["__scopeId","data-v-6a6f4569"]]),Ys=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zs});const Js=X({name:"ZwModal",components:{CloseOutlined:Xe,CheckOutlined:Qe,EditFilled:et},props:{visible:{type:Boolean,default:!1},mode:{type:String,default:""},showOk:{type:Boolean,default:()=>!0},cancelText:{type:String,default:()=>"取消"},okText:{type:String,default:()=>"提交"}},setup(e,{emit:t}){const a=_e(!1),l=ie((()=>!("view"===e.mode)));return{handleOk:function(e){a.value=!0,t("submit")},handleCancel:function(e){t("update:visible",!1),t("close")},submiting:a,afterClosed:function(){a.value=!1},canEdit:l}}}),Gs=ge(" 编辑 ");var Xs=St(Js,[["render",function(e,t,a,l,o,n){const s=le("CloseOutlined"),r=le("a-button"),i=le("CheckOutlined"),d=le("EditFilled"),c=le("a-modal");return oe(),ne(c,ue(e.$attrs,{visible:e.visible,"after-close":e.afterClosed,"destroy-on-close":!0}),{footer:se((()=>[Re(e.$slots,"footer",{},(()=>[re(r,{key:"back",onClick:e.handleCancel},{icon:se((()=>[re(s)])),default:se((()=>[ge(" "+Ee(e.cancelText),1)])),_:1},8,["onClick"]),e.showOk?(oe(),de(be,{key:0},[e.canEdit?(oe(),ne(r,{key:"submit",type:"primary",loading:e.submiting,onClick:e.handleOk},{icon:se((()=>[re(i)])),default:se((()=>[ge(" "+Ee(e.okText),1)])),_:1},8,["loading","onClick"])):(oe(),ne(r,{key:1,type:"primary",onClick:t[0]||(t[0]=t=>e.$emit("update:mode","edit"))},{icon:se((()=>[re(d)])),default:se((()=>[Gs])),_:1}))],64)):Ve("",!0)]))])),default:se((()=>[Re(e.$slots,"default")])),_:3},16,["visible","after-close"])}]]),Qs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xs}),er={};const tr={"./ant-design/index.ts":At,"./icons/index.ts":Ft,"./iframe/index.ts":Bt,"./listdata/index.ts":Ys,"./modal/index.ts":Qs,"./scrollbar/index.ts":Al};var ar={install(e){Object.values(i(i({},tr),er)).map((t=>{t.default&&("function"==typeof t.default||t.default.hasOwnProperty("install")&&"function"==typeof t.default.install?e.use(t.default):e._context.components.hasOwnProperty(t.default.name)||e.component(t.default.name,t.default))}))}};let lr;function or(e,t,a){const l=t.arg;l&&"copy"!==l?"cut"===l&&(e.setAttribute("data-clipboard-target",t.value),e.setAttribute("data-clipboard-action","cut")):e.setAttribute("data-clipboard-text",t.value)}var nr={clipboard:{mounted(e,t,a){or(e,t),lr=new ct(e),lr.on("success",(function(e){p.success(`${e.action} success🎉`),e.clearSelection()})),lr.on("error",(function(e){p.error(`${e.action} 失败！`)}))},beforeUpdate(e,t,a){or(e,t)},beforeUnmount(){lr&&lr.destroy()}}},sr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nr});var rr={perms:{mounted(e,t,a){var l;l=t.value,co.getters.menusList.some((e=>e.code===l))||(t.arg&&"hidden"!==t.arg?"disabled"===t.arg&&(Array.from(e.children).forEach((e=>{e.style.color="#bebebe"})),"BUTTON"===e.tagName&&e.setAttribute("disabled","disabled")):e.parentNode.removeChild(e))}}},ir=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rr});function dr(e,t){return e.className.indexOf(t)>-1}var cr={"can-edit":{beforeMount(){},mounted(e,t,a){if(t.value)return;const l=e.parentNode,o=a.el;if(dr(e,"ant-btn")||dr(e,"ant-switch"))return e.setAttribute("disabled","disabled");if(dr(e,"ant-upload")){setTimeout((()=>{e.getElementsByTagName("input")[0].setAttribute("disabled","disabled")}));return void(e.getElementsByClassName("ant-upload")[0].style.cursor="default")}if(dr(e,"ant-radio-group")){const t=e.getElementsByTagName("label");return void Array.from(t).forEach((e=>{var t,a;e.classList.add("ant-radio-wrapper-disabled"),null==(t=e.querySelector(".ant-radio"))||t.classList.add("ant-radio-disabled"),null==(a=e.querySelector("input"))||a.setAttribute("disabled","disabled")}))}let n="",s="display: inline-block;width: 100%;position: relative;font-variant: tabular-nums;font-feature-settings: tnum;color: rgba(0, 0, 0, 0.65); line-height: 1.5715;";if(dr(e,"ant-input")&&("TEXTAREA"===e.tagName&&(s+=`height: ${e.clientHeight}px;`),n=o.value||"-",s+="padding: 4px 11px;"),dr(e,"ant-select-single")&&(n=o.innerText,s+="padding: 0 11px;"),dr(e,"ant-calendar-picker")){const t=e.getElementsByTagName("input");n=t.length>1?`\n                        <input class="ant-calendar-range-picker-input" value="${t[0].value}" readonly />\n                        <span class="ant-calendar-range-picker-separator">~</span>\n                        <input class="ant-calendar-range-picker-input" value="${t[1].value}" readonly />\n                        `:t[0].value,s+="padding: 4px 11px;"}dr(e,"zw-cascader")&&(n=o.innerText,s+="padding: 4px 11px;");const r=document.createElement("div");r.style.cssText=s,r.innerHTML=n,l.insertBefore(r,e),e.style.cssText="display: none"},beforeUpdate(e,t,a){if(!t.value)return;if(dr(e,"ant-btn")||dr(e,"ant-switch"))return e.removeAttribute("disabled");if(dr(e,"ant-upload")){e.getElementsByTagName("input")[0].removeAttribute("disabled");return void e.getElementsByClassName("ant-upload")[0].removeAttribute("style")}if(dr(e,"ant-radio-group")){const t=e.getElementsByTagName("label");return void Array.from(t).forEach((e=>{var t,a;e.classList.remove("ant-radio-wrapper-disabled"),null==(t=e.querySelector(".ant-radio"))||t.classList.remove("ant-radio-disabled"),null==(a=e.querySelector("input"))||a.removeAttribute("disabled")}))}e.removeAttribute("style");const l=e.parentNode;e.previousSibling&&l.removeChild(e.previousSibling)}}},ur={"/src/targets/base/directives/global/can-edit/can-edit.ts":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cr})};const mr={"./clipboard/clipboard.ts":sr,"./permission/perms.ts":ir},pr=Object.values(i(i({},mr),ur)).reduce(((e,t)=>ut(t.default)?e:i(i({},e),t.default)),{});var fr={install(e){Object.keys(pr).map((t=>{e.directive(t,pr[t])}))}};if("undefined"!=typeof window){let e=function(){var e=document.body,t=document.getElementById("__svg__icons__dom__1644919103567__");t||((t=document.createElementNS("http://www.w3.org/2000/svg","svg")).style.position="absolute",t.style.width="0",t.style.height="0",t.id="__svg__icons__dom__1644919103567__",t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),t.innerHTML='<symbol class="icon" viewBox="0 0 1024 1024"  id="svg-aliww"><path d="M783.36 568.32c-33.28 0-53.76 2.56-89.6 2.56 40.96-76.8 15.36-153.6-28.16-179.2 28.16-12.8 58.88-23.04 89.6-30.72 56.32 48.64 51.2 163.84 28.16 207.36zm-253.44 28.16c-33.28 0-61.44 2.56-89.6 2.56 28.16-71.68 10.24-156.16-28.16-179.2 35.84-12.8 51.2-20.48 89.6-30.72 53.76 46.08 51.2 166.4 28.16 207.36zM273.92 0s40.96 69.12 48.64 145.92C135.68 204.8 0 371.2 0 568.32c0 248.32 215.04 448 481.28 448s481.28-199.68 481.28-448c0-230.4-189.44-422.4-432.64-445.44C442.88 53.76 273.92 0 273.92 0z" fill="#1896EB" /></symbol><symbol fill="currentColor" viewBox="0 0 1024 1024" id="svg-fahuo"><path d="m885.574 377.582-149.43-50.943c-17.714-6.031-33.907-28.582-34.015-47.301l-.217-128.836c-.163-45.943-37.603-83.355-83.627-83.409l-467.906-.217h-.108c-22.17 0-43.145 8.694-58.904 24.48-15.812 15.785-24.506 36.732-24.506 58.956v777.906c0 15.377 12.444 27.821 27.822 27.821s27.822-12.443 27.822-27.821V877.71h116.664c14.237 45.074 55.914 78.03 105.634 78.03s91.396-32.956 105.633-78.03H575.85c13.91 45.563 55.859 79.009 105.959 79.009s92.048-33.446 105.96-79.009h113.73v51.594c0 15.379 12.443 27.822 27.821 27.822s27.822-12.442 27.822-27.822V477.482c-.004-42.383-31.466-86.262-71.568-99.9zM344.8 900.097c-30.646 0-55.642-24.968-55.642-55.642s24.996-55.642 55.642-55.642c30.647 0 55.643 24.967 55.643 55.642s-24.996 55.642-55.643 55.642zm337.006.978c-30.646 0-55.642-24.968-55.642-55.642 0-30.675 24.996-55.642 55.642-55.642 30.647 0 55.642 24.967 55.642 55.642 0 30.674-24.994 55.642-55.642 55.642zm108.731-79.008c-10.813-50.181-55.37-87.918-108.731-87.918s-97.918 37.737-108.73 87.918H453.804c-10.38-50.67-55.317-88.897-109.004-88.897-53.685 0-98.623 38.227-109.002 88.897H122.504V150.31c0-7.362 2.88-14.318 8.205-19.615 5.27-5.271 12.226-8.179 19.562-8.179h.054l467.906.217c15.432.027 27.93 12.552 28.039 27.903l.216 128.836c.109 42.33 31.626 86.208 71.727 99.82l149.43 50.94c17.715 6.033 33.852 28.555 33.852 47.248v344.585H790.537z" /><path d="M783.908 565.971h-84.06v-89.196c0-15.377-12.444-27.822-27.822-27.822s-27.821 12.443-27.821 27.822v111.284c0 1.55.651 2.88.87 4.347 0 .49-.273.898-.273 1.386 0 15.377 12.444 27.821 27.822 27.821h111.284c15.378 0 27.822-12.443 27.822-27.821s-12.444-27.82-27.822-27.82z" /></symbol><symbol viewBox="0 0 1024 1024" fill="currentColor" id="svg-gender"><path d="M304.118 618.427A304.118 304.118 0 1 1 608.236 314.31a305.023 305.023 0 0 1-304.118 304.118zm0-506.863A202.745 202.745 0 1 0 506.863 314.31a203.379 203.379 0 0 0-202.745-202.745zm253.431 658.922H50.686a50.686 50.686 0 0 1 0-101.372H557.55a50.686 50.686 0 0 1 0 101.372z" /><path d="M304.118 1023.918a47.88 47.88 0 0 1-50.686-50.687v-405.49a50.686 50.686 0 0 1 101.372 0v405.49a47.88 47.88 0 0 1-50.686 50.687zm658.922 0A304.118 304.118 0 1 1 1267.158 719.8a305.023 305.023 0 0 1-304.118 304.118zm0-506.863A202.745 202.745 0 1 0 1165.785 719.8 203.379 203.379 0 0 0 963.04 517.055z" /><path d="M963.04 517.055a47.88 47.88 0 0 1-50.687-50.687V60.878a50.686 50.686 0 0 1 101.373 0v405.31a47.88 47.88 0 0 1-50.686 50.686z" /><path d="M1175.922 314.31a45.98 45.98 0 0 1-35.48-15.207L963.04 121.701 785.638 299.103a50.143 50.143 0 1 1-70.961-70.96L927.559 15.26a48.967 48.967 0 0 1 70.961 0l212.883 212.883a48.967 48.967 0 0 1 0 70.96 39.463 39.463 0 0 1-35.48 15.206z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="svg-phone"><path d="M712.848 706.669a128.319 128.319 0 0 0-33.834-4.522c-47.452 0-88.92 25.655-111.32 63.904-7.24 12.307-19.784 20.703-34.048 21.635-5.985.396-12.006.575-18.064.575-140.134 0-256.113-103.264-276.363-237.888-2.58-17.295 5.59-34.338 20.501-43.38 37.344-22.604 62.325-63.652 62.325-110.548 0-25.296-7.275-48.869-19.82-68.783-22.867-36.275-63.222-60.387-109.204-60.387-68.957 0-125.261 54.144-128.845 122.282-.107 2.296-.18 4.592-.18 6.89 0 6.566.502 12.988 1.434 19.267 20.932 304.374 274.14 544.774 583.476 544.774 6.846 0 13.69-.144 20.465-.395 3.19.251 6.38.395 9.642.395 9.102 0 17.955-.933 26.485-2.726 58.563-12.236 102.537-64.19 102.537-126.444.003-59.596-40.352-109.758-95.187-124.65m-46.731-97.855c-19.787 0-35.84-16.053-35.84-35.84 0-98.933-80.384-179.434-179.2-179.434-19.787 0-35.84-16.053-35.84-35.84s16.053-35.84 35.84-35.84c138.344 0 250.88 112.653 250.88 251.114 0 19.787-16.053 35.84-35.84 35.84zm129.01-21.514c-19.788 0-35.84-16.053-35.84-35.84 0-158.293-128.613-287.093-286.72-287.093-19.788 0-35.84-16.052-35.84-35.84 0-19.787 16.052-35.84 35.84-35.84 197.633 0 358.4 160.954 358.4 358.773 0 19.787-16.053 35.84-35.84 35.84zm129.033-21.536c-19.787 0-35.84-16.053-35.84-35.84 0-217.653-176.867-394.73-394.24-394.73-19.787 0-35.84-16.052-35.84-35.84 0-19.787 16.053-35.84 35.84-35.84 256.9 0 465.92 209.231 465.92 466.41 0 19.787-16.053 35.84-35.84 35.84z" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"  id="svg-tb"><path d="M228.96 172.16a76.64 76.64 0 1 0 75.84 76.64 76.32 76.32 0 0 0-75.84-76.64zm88.8 363.36C307.52 458.24 160 360.48 160 360.48l-57.6 82.24s123.84 61.92 134.08 112S66.56 753.28 66.56 753.28l128 94.4s133.28-235.04 123.2-312.16z" fill="#FC8848" /><path d="M957.44 380.96c0-66.88-66.4-152.32-174.72-171.52s-263.04 60-286.88 64-30.56-3.52-30.56-3.52l27.2-53.12L400 178.56A416 416 0 0 1 355.04 288a425.28 425.28 0 0 1-74.72 92.64L338.08 432l76.32-90.88 50.88 5.12L372 464s3.36 39.52 32 41.28 72.96-67.04 72.96-67.04l52.48 10.4 1.76 68.64H360.16v46.24l169.6 5.12v145.92s-48.96 7.36-70.56-23.2-12.96-78.72-12.96-78.72L336 609.28s-6.88 84.64 22.56 126.88 90.24 57.12 152 51.84 215.84-70.72 215.84-70.72l10.08 46.4 81.44-37.76-49.12-130.4-66.24 13.76 6.88 56.64-81.6 36v-130.4L800 564.64v-48H624.8V448h168v-54.88H517.92l40.8-80A562.88 562.88 0 0 1 679.2 272c48-6.88 69.44-10.24 113.6 17.12a108.48 108.48 0 0 1 50.88 67.04v381.76a96 96 0 0 1-60.96 53.12c-48 16-124-1.6-124-1.6L652 842.56s128 25.76 210.4-8.48 95.04-132.16 95.04-132.16z" fill="#FC8848" /></symbol>',e.insertBefore(t,e.firstChild)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}(()=>{const e=Ze(xt);e.config.globalProperties.$cookie=it,e.use(ar),e.use(fr),e.use(co),e.use(Zl),e.use(eo),Zl.isReady().then((()=>{e.mount("#app")}))})();export{Zo as B,xa as M,St as _,bt as a,jl as b,uo as c,Sa as d,ht as e,_t as f,vo as g,ut as i,mt as l,vt as p,mo as s};
