import"./vue.f15e169e.js";import{d as e,k as a,v as t,_ as n,$ as o,a0 as l,a1 as d,m as s,a3 as i}from"./@vue.454ad140.js";const c=i("span",null,null,-1),r=e({setup(e){const i=a("context"),r=t(""),p=t({}),u=e=>{console.log(e),r.value=e.data.bt_panel,p.value=e.data.signature},m=[{title:"序号",dataIndex:"index",width:48,align:"center",customRender:({index:e})=>e+1},{title:"文件名称",dataIndex:"name",width:430,customCell:(e,a,t)=>({class:"ant-table-row-cell-ellipsis ant-table-row-cell-break-word click-cursor",onClick:a=>{a.stopPropagation(),i.$http.post("db/download",{filename:e.filename,name:e.name},{responseType:"blob"}).then((a=>{const t=window.URL.createObjectURL(new Blob([a],{type:"application/x-gzip"}));var n=document.createElement("a");n.style.display="none",n.download=e.name,n.href=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t)})).catch((e=>{console.log("download err:",e)}))}})},{title:"文件大小",dataIndex:"size",width:106},{title:"备份时间",dataIndex:"addtime",width:150,align:"center"},{title:"备注信息",dataIndex:"ps",width:150}];return(e,a)=>{const t=n("ListData"),i=n("ZwScrollbar");return o(),l(i,{"wrap-class":"pd-17"},{default:d((()=>[s(t,{"row-key":"id",columns:m,apis:{query:"db/list"},onListdataLoaded:u},{topTools:d((()=>[c])),_:1})])),_:1})}}});export{r as default};
